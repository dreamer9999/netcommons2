<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:36
         compiled from questionnaire_view_edit_question_entry.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'questionnaire_view_edit_question_entry.html', 3, false),array('modifier', 'sprintf', 'questionnaire_view_edit_question_entry.html', 10, false),array('modifier', 'wysiwig_convert_url', 'questionnaire_view_edit_question_entry.html', 16, false),array('modifier', 'get_themes_image', 'questionnaire_view_edit_question_entry.html', 59, false),)), $this); ?>
<?php echo '';  echo '<form id="questionnaire_question_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" action="#"><input type="hidden" name="action" /><input type="hidden" name="questionnaire_id" /><input type="hidden" name="question_id" /><input type="hidden" name="question_sequence" /><div class="bold">';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_question'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</div>';  if (((is_array($_tmp=$this->_tpl_vars['action']['questionnaire']['status'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == QUESTIONNAIRE_STATUS_INACTIVE_VALUE):  echo '<textarea id="questionnaire_question_value';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comptextarea questionnaire_question"></textarea>';  else:  echo '<div>';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_value'])) ? $this->_run_mod_handler('wysiwig_convert_url', true, $_tmp) : wysiwig_convert_url($_tmp));  echo '<input type="hidden" name="question_value" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_value'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"></div>';  endif;  echo '<br class="float-clear" /><label for="questionnaire_description_check';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="questionnaire_description_check';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="description_checkbox" onclick="questionnaireCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].changeDescription(this.checked);" />';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_description'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</label><div id="questionnaire_description_area';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="display-none"><textarea id="questionnaire_description';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comptextarea questionnaire_question"></textarea></div><table class="outer questionnaire_question" summary="';  echo ((is_array($_tmp=@_SUMMARY_SETTINGFORM)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><tr class="row"><th class="nowrap" scope="row"></th><td><label id="questionnaire_require_label';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" for="questionnaire_require';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="questionnaire_require';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="require_flag" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_require'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</label></td></tr><tr class="row"><th class="nowrap" scope="row"><label for="questionnaire_question_type';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_question_type'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</label></th><td><select id="questionnaire_question_type';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="question_type" onchange="questionnaireCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].changeQuestionType(this.value);return false;"><option id="questionnaire_question_type_radio';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" value="';  echo ((is_array($_tmp=@QUESTIONNAIRE_QUESTION_TYPE_RADIO_VALUE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_question_type_radio'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option><option value="';  echo ((is_array($_tmp=@QUESTIONNAIRE_QUESTION_TYPE_CHECKBOX_VALUE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_question_type_checkbox'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option><option id="questionnaire_question_type_textarea';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" value="';  echo ((is_array($_tmp=@QUESTIONNAIRE_QUESTION_TYPE_TEXTAREA_VALUE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_question_type_textarea'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option></select><div id="questionnaire_choice_area';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"  class="display-none">';  if (((is_array($_tmp=$this->_tpl_vars['action']['questionnaire']['status'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == QUESTIONNAIRE_STATUS_INACTIVE_VALUE):  echo '<div class="align-right"><a class="syslink" href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_add_choice_title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onclick="questionnaireCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].addChoice();return false;"><img class="icon" src="';  echo ((is_array($_tmp="add.gif")) ? $this->_run_mod_handler('get_themes_image', true, $_tmp) : get_themes_image($_tmp));  echo '" alt="" />';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_add_choice'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</a></div>';  endif;  echo '<table id="questionnaire_choice';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="questionnaire_choice">';  $_from = $this->_tpl_vars['action']['question']['choices']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['choice'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['choice']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['choice']):
        $this->_foreach['choice']['iteration']++;
 echo '';  $this->assign('iteration', ((is_array($_tmp=$this->_foreach['choice']['iteration'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "questionnaire_view_edit_choice.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  endforeach; else:  echo '';  endif; unset($_from);  echo '</table><div id="questionnaire_choice_add';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="display-none"></div></div></td></tr></table><div class="btn-bottom"><input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_regist'];  echo '" onclick="questionnaireCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].enterQuestion();" /><input class="btn-width lined_btn" type="button" value="';  echo $this->_tpl_vars['lang']['_cancel'];  echo '" onclick="commonCls.removeBlock(\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\');return false;" /></div></form>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../questionnaire_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<script class="nc_script" type="text/javascript">questionnaireCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].questionnaire_id = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['questionnaire_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";questionnaireCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].question_id = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";questionnaireCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].choiceIteration = ';  echo ((is_array($_tmp=$this->_tpl_vars['action']['choiceCount'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ';var questionnaireForm = $("questionnaire_question_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");questionnaireForm["action"].value = "questionnaire_action_edit_question_entry";questionnaireForm["questionnaire_id"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['questionnaire_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";questionnaireForm["question_id"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";questionnaireForm["question_sequence"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";';  if (((is_array($_tmp=$this->_tpl_vars['action']['questionnaire']['status'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == QUESTIONNAIRE_STATUS_INACTIVE_VALUE):  echo '';  if (empty ( $this->_tpl_vars['action']['question']['question_id'] )):  echo '$("questionnaire_question_value';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '").value = "';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['questionnaire_new_question_value'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '";';  else:  echo '$("questionnaire_question_value';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '").value = "';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['question']['question_value'])) ? $this->_run_mod_handler('wysiwig_convert_url', true, $_tmp) : wysiwig_convert_url($_tmp)))) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript'));  echo '";';  endif;  echo 'questionnaireCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].createQuestionArea();';  endif;  echo '';  if (! empty ( $this->_tpl_vars['action']['question']['description'] )):  echo 'questionnaireForm["description_checkbox"].checked = true;$("questionnaire_description';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '").value = "';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['question']['description'])) ? $this->_run_mod_handler('wysiwig_convert_url', true, $_tmp) : wysiwig_convert_url($_tmp)))) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript'));  echo '";questionnaireCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].changeDescription(true);';  endif;  echo '';  if (((is_array($_tmp=$this->_tpl_vars['action']['question']['require_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON):  echo '$("questionnaire_require';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '").checked = true;';  endif;  echo 'questionnaireForm["question_type"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_type'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";questionnaireCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeQuestionType(';  echo ((is_array($_tmp=$this->_tpl_vars['action']['question']['question_type'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');';  if (((is_array($_tmp=$this->_tpl_vars['action']['questionnaire']['status'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != QUESTIONNAIRE_STATUS_INACTIVE_VALUE):  echo 'questionnaireForm["question_type"].disabled = true;$("questionnaire_require';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '").disabled = true;Element.addClassName($("questionnaire_require_label';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"), "disable_lbl");';  endif;  echo 'questionnaireForm = null;</script>'; ?>