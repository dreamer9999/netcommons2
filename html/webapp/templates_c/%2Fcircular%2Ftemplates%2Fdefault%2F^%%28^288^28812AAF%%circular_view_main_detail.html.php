<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:30
         compiled from circular_view_main_detail.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'circular_view_main_detail.html', 5, false),array('modifier', 'get_image_url', 'circular_view_main_detail.html', 11, false),array('modifier', 'sprintf', 'circular_view_main_detail.html', 17, false),array('modifier', 'wysiwig_convert_url', 'circular_view_main_detail.html', 24, false),array('modifier', 'nl2br', 'circular_view_main_detail.html', 47, false),array('modifier', 'timezone_date_format', 'circular_view_main_detail.html', 97, false),array('function', 'html_options', 'circular_view_main_detail.html', 55, false),)), $this); ?>
<?php echo '';  echo '';  if (! empty ( $this->_tpl_vars['action']['circular_info']['circular_subject'] ) && ! empty ( $this->_tpl_vars['action']['circular_info']['circular_body'] )):  echo '<div class="outerdiv"><form id="detail_circular_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" action="#" onsubmit="return false;"><input type="hidden" id="circular_id';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="circular_id" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /><input type="hidden" id="reply_type';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="reply_type" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['reply_type'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /><div class="float-left bold circular_detail_head">';  if (! empty ( $this->_tpl_vars['action']['circular_info']['icon_name'] )):  echo '<img class="icon" src="';  echo ((is_array($_tmp='')) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/comp/textarea/';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['icon_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" alt="" title="" />';  endif;  echo '<span>';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['circular_subject'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</span></div><div class="float-right circular_detail_head"><span>';  echo $this->_tpl_vars['lang']['circular_from'];  echo '</span><a href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['_user_title'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['handle'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['handle'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" class="syslink" onclick="commonCls.showUserDetail(event, \'';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['post_user_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\');return false;">';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['handle'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</a></div><div class="hr float-clear"></div><div class="circular_detail_content">';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['circular_body'])) ? $this->_run_mod_handler('wysiwig_convert_url', true, $_tmp) : wysiwig_convert_url($_tmp));  echo '<div class="float-clear"></div></div><div class="circular_detail_content" id="circular_postscripts';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  if (((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['postscripts'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['postscripts'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['postscript'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['postscript']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['postscript']):
        $this->_foreach['postscript']['iteration']++;
 echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "circular_view_main_postscript_list.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  endforeach; endif; unset($_from);  echo '';  endif;  echo '</div><div id="circular_postscript_add';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="display-none"></div>';  if (((is_array($_tmp=$this->_tpl_vars['action']['has_create_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ( ((is_array($_tmp=$this->_tpl_vars['action']['has_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) || ((is_array($_tmp=$_SESSION['_user_auth_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) >= ((is_array($_tmp=@CIRCULAR_ALL_VIEW_AUTH)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '<a href="#" title="';  echo $this->_tpl_vars['lang']['circular_add_postscript'];  echo '" class="syslink" onclick="circularCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].popupPostscript(event); return false;">';  echo $this->_tpl_vars['lang']['circular_add_postscript'];  echo '</a>';  endif;  echo '';  if (((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['choices'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<div class="circular_detail_choice_title">';  echo $this->_tpl_vars['lang']['circular_detail_choice'];  echo '</div>';  $_from = $this->_tpl_vars['action']['circular_info']['choices']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['choice'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['choice']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['choice']):
        $this->_foreach['choice']['iteration']++;
 echo '<div class="circular_detail_choice_seq">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['circular_detail_choice_sequence'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['choice']['choice_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['choice']['choice_sequence'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</div><div class="circular_detail_choice">';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['choice']['choice_value'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('nl2br', true, $_tmp) : smarty_modifier_nl2br($_tmp));  echo '</div><br class="float-clear" />';  endforeach; endif; unset($_from);  echo '';  endif;  echo '<div class="float-right">';  if (((is_array($_tmp=$this->_tpl_vars['action']['pager']['total_page'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) > 1):  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "circular_view_main_init_page.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  endif;  echo '<select name="visible_row" class="visible_item';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onchange="circularCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].toPage(this, \'';  echo ((is_array($_tmp=$this->_tpl_vars['action_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\', \'visible_item';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\', \'\', \'\')" id="visible_item';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" size="1">';  echo smarty_function_html_options(array('options' => ((is_array($_tmp=$this->_tpl_vars['action']['visible_row_map'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')),'selected' => ((is_array($_tmp=$this->_tpl_vars['action']['visible_row'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))), $this); echo '</select></div><table class="grid circular_detail_table" summary="';  echo $this->_tpl_vars['lang']['circular_summary_main_replylist'];  echo '"><tr class="grid_row"><th scope="col" class="user"><div class="nowrap">';  echo $this->_tpl_vars['lang']['circular_receive_user'];  echo '</div></th><th scope="col" class="status"><div class="nowrap">';  echo $this->_tpl_vars['lang']['circular_reply_date'];  echo '</div></th><th scope="col" class="reply"><div class="nowrap">';  echo $this->_tpl_vars['lang']['circular_comment'];  echo '</div></th></tr>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "./circular_view_main_detail_users.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</table>';  if (((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['period'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<div class="circular_detail_date bold"><label for="circular_period_checkbox';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['circular_period'];  echo '</label><label';  if (((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['periodClassName'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == CIRCULAR_PERIOD_OVER):  echo ' class="circular_reply_period_over"';  endif;  echo '>';  if (((is_array($_tmp=$this->_tpl_vars['action']['has_create_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ( ((is_array($_tmp=$this->_tpl_vars['action']['has_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) || ((is_array($_tmp=$_SESSION['_user_auth_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) >= ((is_array($_tmp=@CIRCULAR_ALL_VIEW_AUTH)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '<input id="circular_period';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comp_calendar_text" type="text" name="period" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['period'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onkeypress="if (event.keyCode == 13) {this.onchange();}" onchange="circularCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].extendPeriod();" />';  else:  echo '';  echo $this->_tpl_vars['action']['circular_info']['period'];  echo '';  endif;  echo '</label></div>';  endif;  echo '<div class="circular_detail_date"><span>';  echo $this->_tpl_vars['lang']['circular_create_date'];  echo '</span><span>';  echo ((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['insert_time'])) ? $this->_run_mod_handler('timezone_date_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['circular_date_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : timezone_date_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['circular_date_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</span></div><div class="hr"></div>';  if (((is_array($_tmp=$this->_tpl_vars['action']['has_create_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ( ((is_array($_tmp=$this->_tpl_vars['action']['has_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) || ((is_array($_tmp=$_SESSION['_user_auth_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) >= ((is_array($_tmp=@CIRCULAR_ALL_VIEW_AUTH)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '<div class="circular_detail_link"><a href="#" title="';  echo $this->_tpl_vars['lang']['circular_copy'];  echo '" class="syslink" onclick="circularCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].displayEntry(); return false;">';  echo $this->_tpl_vars['lang']['circular_copy'];  echo '</a><span>';  echo $this->_tpl_vars['lang']['_separator'];  echo '</span><a href="#" title="';  echo $this->_tpl_vars['lang']['_delete'];  echo '" class="syslink" onclick="circularCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].deleteCircular(\'';  echo $this->_tpl_vars['lang']['circular_delete_confirm'];  echo '\'); return false;">';  echo $this->_tpl_vars['lang']['_delete'];  echo '</a></div>';  endif;  echo '<div class="btn-bottom"><input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_back_to_list'];  echo '" onclick="commonCls.sendView(\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\', \'circular_view_main_init\'); return false;" /></div></form></div>';  else:  echo '<div>';  echo $this->_tpl_vars['lang']['circular_none_post'];  echo '</div>';  endif;  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../circular_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  if (((is_array($_tmp=$this->_tpl_vars['action']['circular_info']['period'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ((is_array($_tmp=$this->_tpl_vars['action']['has_create_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ( ((is_array($_tmp=$this->_tpl_vars['action']['has_auth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) || ((is_array($_tmp=$_SESSION['_user_auth_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) >= ((is_array($_tmp=@CIRCULAR_ALL_VIEW_AUTH)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '<script class="nc_script" type="text/javascript">circularCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].calendar = new compCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", $("circular_period';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"), {onClickCallback:circularCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].extendPeriod.bind(circularCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"])});</script>';  endif;  echo ''; ?>
