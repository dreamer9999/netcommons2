<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:38
         compiled from reservation_reserve_regist_repeat.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'reservation_reserve_regist_repeat.html', 3, false),array('modifier', 'sprintf', 'reservation_reserve_regist_repeat.html', 46, false),array('modifier', 'cat', 'reservation_reserve_regist_repeat.html', 149, false),)), $this); ?>
<?php echo '<td colspan="2" id="reservation_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="reservation_repeat">';  $this->assign('rrule_arr', ((is_array($_tmp=$this->_tpl_vars['reserve']['rrule_set_arr'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('freq', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['FREQ'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'NONE' )):  echo '';  $this->assign('repeat_display_class', " display-none");  echo '';  else:  echo '';  $this->assign('repeat_display_class', "");  echo '';  endif;  echo '<div class="reservation_disp_repeat align-right';  if (( ((is_array($_tmp=$this->_tpl_vars['repeat_display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == "" )):  echo ' display-none';  endif;  echo '"><input name="repeat_btn" type="button" value="';  echo $this->_tpl_vars['lang']['reservation_repeat_btn'];  echo '" onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeatBtn(this);\' /></div><div class="reservation_disp_repeat hr';  echo ((is_array($_tmp=$this->_tpl_vars['repeat_display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"></div><div class="reservation_disp_repeat reservation_freq';  echo ((is_array($_tmp=$this->_tpl_vars['repeat_display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><label for="reservation_not_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_not_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_flag" value="';  echo ((is_array($_tmp=@_OFF)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['repeat_display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != "" )):  echo ' checked="checked"';  endif;  echo ' onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"NONE");\' />';  echo $this->_tpl_vars['lang']['reservation_not_repeat'];  echo '</label><br /><label for="reservation_do_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_do_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_flag" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['repeat_display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == "" )):  echo ' checked="checked"';  endif;  echo ' onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,null);\' />';  echo $this->_tpl_vars['lang']['reservation_do_repeat'];  echo '</label><div class="hr"></div><div class="reservation_r_daily">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['DAILY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="reservation_r_margin"><label for="reservation_repeat_freq_daily';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_repeat_freq_daily';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="DAILY" onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"DAILY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'DAILY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['reservation_rrule_freq_daily'];  echo '</label>&nbsp;&nbsp;<label for="reservation_repeat_freq_daily_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_prefix'];  echo '<select id="reservation_repeat_freq_daily_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="rrule_interval[DAILY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=7) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_rrule_interval_day'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_suffix'];  echo '</label></div></div><div class="hr"></div><div class="reservation_r_weekly">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['WEEKLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="reservation_r_margin"><label for="reservation_repeat_freq_weekly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_repeat_freq_weekly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="WEEKLY" onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"WEEKLY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'WEEKLY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['reservation_rrule_freq_weekly'];  echo '</label>&nbsp;&nbsp;<label for="reservation_repeat_freq_weekly_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_prefix'];  echo '<select id="reservation_repeat_freq_weekly_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="rrule_interval[WEEKLY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=6) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_rrule_interval_week'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_suffix'];  echo '</label></div><div class="reservation_r_margin">';  $this->assign('rrule_byday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['week_list'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['week_list'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['week_list']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['wday'] => $this->_tpl_vars['week_item']):
        $this->_foreach['week_list']['iteration']++;
 echo '<label for="reservation_rrule_byday_weekly_';  echo ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_rrule_byday_weekly_';  echo ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="rrule_byday[WEEKLY][]" value="';  echo ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && in_array ( $this->_tpl_vars['wday'] , ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' checked="checked"';  endif;  echo ' />';  echo ((is_array($_tmp=$this->_tpl_vars['week_item']['long_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</label>&nbsp;&nbsp;';  endforeach; endif; unset($_from);  echo '</div></div><div class="hr"></div><div class="reservation_r_monthly">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['MONTHLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="reservation_r_margin"><label for="reservation_repeat_freq_monthly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_repeat_freq_monthly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="MONTHLY" onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"MONTHLY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'MONTHLY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['reservation_rrule_freq_monthly'];  echo '</label>&nbsp;&nbsp;<label for="reservation_repeat_freq_monthly_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_prefix'];  echo '<select id="reservation_repeat_freq_monthly_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="rrule_interval[MONTHLY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=12) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_rrule_interval_month'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_suffix'];  echo '</label></div><div class="reservation_r_margin">';  $this->assign('rrule_byday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select name="rrule_byday[MONTHLY][]" onclick="reservationCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchRruleMonthly(this.form);"><option value=""';  if (( count ( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['reservation_rrule_select_wday'];  echo '</option>';  unset($this->_sections['week']);
$this->_sections['week']['name'] = 'week';
$this->_sections['week']['loop'] = is_array($_loop=6) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['week']['start'] = (int)1;
$this->_sections['week']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['week']['show'] = true;
$this->_sections['week']['max'] = $this->_sections['week']['loop'];
if ($this->_sections['week']['start'] < 0)
    $this->_sections['week']['start'] = max($this->_sections['week']['step'] > 0 ? 0 : -1, $this->_sections['week']['loop'] + $this->_sections['week']['start']);
else
    $this->_sections['week']['start'] = min($this->_sections['week']['start'], $this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] : $this->_sections['week']['loop']-1);
if ($this->_sections['week']['show']) {
    $this->_sections['week']['total'] = min(ceil(($this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] - $this->_sections['week']['start'] : $this->_sections['week']['start']+1)/abs($this->_sections['week']['step'])), $this->_sections['week']['max']);
    if ($this->_sections['week']['total'] == 0)
        $this->_sections['week']['show'] = false;
} else
    $this->_sections['week']['total'] = 0;
if ($this->_sections['week']['show']):

            for ($this->_sections['week']['index'] = $this->_sections['week']['start'], $this->_sections['week']['iteration'] = 1;
                 $this->_sections['week']['iteration'] <= $this->_sections['week']['total'];
                 $this->_sections['week']['index'] += $this->_sections['week']['step'], $this->_sections['week']['iteration']++):
$this->_sections['week']['rownum'] = $this->_sections['week']['iteration'];
$this->_sections['week']['index_prev'] = $this->_sections['week']['index'] - $this->_sections['week']['step'];
$this->_sections['week']['index_next'] = $this->_sections['week']['index'] + $this->_sections['week']['step'];
$this->_sections['week']['first']      = ($this->_sections['week']['iteration'] == 1);
$this->_sections['week']['last']       = ($this->_sections['week']['iteration'] == $this->_sections['week']['total']);
 echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['week_list'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['week_list'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['week_list']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['wday'] => $this->_tpl_vars['week_item']):
        $this->_foreach['week_list']['iteration']++;
 echo '';  $this->assign('week', ((is_array($_tmp=$this->_sections['week']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 1 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_first']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 2 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_second']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 3 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_third']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 4 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_fourth']);  echo '';  else:  echo '';  $this->assign('week', "-1");  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_end']);  echo '';  endif;  echo '';  $this->assign('byday', ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('cat', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_cat($_tmp, ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && in_array ( ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['weeknum'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['week_item']['long_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option>';  endforeach; endif; unset($_from);  echo '';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['reservation_rrule_monthly_pause'];  echo '';  $this->assign('rrule_bymonthday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYMONTHDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select name="rrule_bymonthday[MONTHLY][]" onclick="reservationCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchRruleMonthly(this.form);"><option value=""';  if (( count ( ((is_array($_tmp=$this->_tpl_vars['rrule_bymonthday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['reservation_rrule_select_date'];  echo '</option>';  unset($this->_sections['day']);
$this->_sections['day']['name'] = 'day';
$this->_sections['day']['loop'] = is_array($_loop=32) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['day']['start'] = (int)1;
$this->_sections['day']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['day']['show'] = true;
$this->_sections['day']['max'] = $this->_sections['day']['loop'];
if ($this->_sections['day']['start'] < 0)
    $this->_sections['day']['start'] = max($this->_sections['day']['step'] > 0 ? 0 : -1, $this->_sections['day']['loop'] + $this->_sections['day']['start']);
else
    $this->_sections['day']['start'] = min($this->_sections['day']['start'], $this->_sections['day']['step'] > 0 ? $this->_sections['day']['loop'] : $this->_sections['day']['loop']-1);
if ($this->_sections['day']['show']) {
    $this->_sections['day']['total'] = min(ceil(($this->_sections['day']['step'] > 0 ? $this->_sections['day']['loop'] - $this->_sections['day']['start'] : $this->_sections['day']['start']+1)/abs($this->_sections['day']['step'])), $this->_sections['day']['max']);
    if ($this->_sections['day']['total'] == 0)
        $this->_sections['day']['show'] = false;
} else
    $this->_sections['day']['total'] = 0;
if ($this->_sections['day']['show']):

            for ($this->_sections['day']['index'] = $this->_sections['day']['start'], $this->_sections['day']['iteration'] = 1;
                 $this->_sections['day']['iteration'] <= $this->_sections['day']['total'];
                 $this->_sections['day']['index'] += $this->_sections['day']['step'], $this->_sections['day']['iteration']++):
$this->_sections['day']['rownum'] = $this->_sections['day']['iteration'];
$this->_sections['day']['index_prev'] = $this->_sections['day']['index'] - $this->_sections['day']['step'];
$this->_sections['day']['index_next'] = $this->_sections['day']['index'] + $this->_sections['day']['step'];
$this->_sections['day']['first']      = ($this->_sections['day']['iteration'] == 1);
$this->_sections['day']['last']       = ($this->_sections['day']['iteration'] == $this->_sections['day']['total']);
 echo '';  $this->assign('day', ((is_array($_tmp=$this->_sections['day']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_bymonthday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && in_array ( ((is_array($_tmp=$this->_tpl_vars['day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_bymonthday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_rrule_input_day'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select></div></div><div class="hr"></div><div class="reservation_r_yearly">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['YEARLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="reservation_r_margin"><label for="reservation_repeat_freq_yearly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_repeat_freq_yearly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="YEARLY" onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"YEARLY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'YEARLY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['reservation_rrule_freq_yearly'];  echo '</label>&nbsp;&nbsp;<label for="reservation_repeat_freq_yearly_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_prefix'];  echo '<select id="reservation_repeat_freq_yearly_interval';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="rrule_interval[YEARLY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=13) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_rrule_interval_year'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['reservation_rrule_interval_suffix'];  echo '</label></div><div class="reservation_r_margin">';  $this->assign('rrule_bydmonth', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYMONTH'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  unset($this->_sections['bymonth']);
$this->_sections['bymonth']['name'] = 'bymonth';
$this->_sections['bymonth']['loop'] = is_array($_loop=13) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['bymonth']['start'] = (int)1;
$this->_sections['bymonth']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['bymonth']['show'] = true;
$this->_sections['bymonth']['max'] = $this->_sections['bymonth']['loop'];
if ($this->_sections['bymonth']['start'] < 0)
    $this->_sections['bymonth']['start'] = max($this->_sections['bymonth']['step'] > 0 ? 0 : -1, $this->_sections['bymonth']['loop'] + $this->_sections['bymonth']['start']);
else
    $this->_sections['bymonth']['start'] = min($this->_sections['bymonth']['start'], $this->_sections['bymonth']['step'] > 0 ? $this->_sections['bymonth']['loop'] : $this->_sections['bymonth']['loop']-1);
if ($this->_sections['bymonth']['show']) {
    $this->_sections['bymonth']['total'] = min(ceil(($this->_sections['bymonth']['step'] > 0 ? $this->_sections['bymonth']['loop'] - $this->_sections['bymonth']['start'] : $this->_sections['bymonth']['start']+1)/abs($this->_sections['bymonth']['step'])), $this->_sections['bymonth']['max']);
    if ($this->_sections['bymonth']['total'] == 0)
        $this->_sections['bymonth']['show'] = false;
} else
    $this->_sections['bymonth']['total'] = 0;
if ($this->_sections['bymonth']['show']):

            for ($this->_sections['bymonth']['index'] = $this->_sections['bymonth']['start'], $this->_sections['bymonth']['iteration'] = 1;
                 $this->_sections['bymonth']['iteration'] <= $this->_sections['bymonth']['total'];
                 $this->_sections['bymonth']['index'] += $this->_sections['bymonth']['step'], $this->_sections['bymonth']['iteration']++):
$this->_sections['bymonth']['rownum'] = $this->_sections['bymonth']['iteration'];
$this->_sections['bymonth']['index_prev'] = $this->_sections['bymonth']['index'] - $this->_sections['bymonth']['step'];
$this->_sections['bymonth']['index_next'] = $this->_sections['bymonth']['index'] + $this->_sections['bymonth']['step'];
$this->_sections['bymonth']['first']      = ($this->_sections['bymonth']['iteration'] == 1);
$this->_sections['bymonth']['last']       = ($this->_sections['bymonth']['iteration'] == $this->_sections['bymonth']['total']);
 echo '';  $this->assign('month', ((is_array($_tmp="%d")) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<label for="reservation_repeat_bymonth_yearly_';  echo ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_repeat_bymonth_yearly_';  echo ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="rrule_bymonth[YEARLY][]" value="';  echo ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_bydmonth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && in_array ( ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_bydmonth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' checked="checked"';  endif;  echo ' />';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_rrule_month'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</label>&nbsp;&nbsp;';  if (( ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 6 )):  echo '<br />';  endif;  echo '';  endfor; endif;  echo '</div><div class="reservation_r_margin">';  $this->assign('rrule_byday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select name="rrule_byday[YEARLY][]"><option value=""';  if (( count ( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['reservation_rrule_startdate'];  echo '</option>';  unset($this->_sections['week']);
$this->_sections['week']['name'] = 'week';
$this->_sections['week']['loop'] = is_array($_loop=6) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['week']['start'] = (int)1;
$this->_sections['week']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['week']['show'] = true;
$this->_sections['week']['max'] = $this->_sections['week']['loop'];
if ($this->_sections['week']['start'] < 0)
    $this->_sections['week']['start'] = max($this->_sections['week']['step'] > 0 ? 0 : -1, $this->_sections['week']['loop'] + $this->_sections['week']['start']);
else
    $this->_sections['week']['start'] = min($this->_sections['week']['start'], $this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] : $this->_sections['week']['loop']-1);
if ($this->_sections['week']['show']) {
    $this->_sections['week']['total'] = min(ceil(($this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] - $this->_sections['week']['start'] : $this->_sections['week']['start']+1)/abs($this->_sections['week']['step'])), $this->_sections['week']['max']);
    if ($this->_sections['week']['total'] == 0)
        $this->_sections['week']['show'] = false;
} else
    $this->_sections['week']['total'] = 0;
if ($this->_sections['week']['show']):

            for ($this->_sections['week']['index'] = $this->_sections['week']['start'], $this->_sections['week']['iteration'] = 1;
                 $this->_sections['week']['iteration'] <= $this->_sections['week']['total'];
                 $this->_sections['week']['index'] += $this->_sections['week']['step'], $this->_sections['week']['iteration']++):
$this->_sections['week']['rownum'] = $this->_sections['week']['iteration'];
$this->_sections['week']['index_prev'] = $this->_sections['week']['index'] - $this->_sections['week']['step'];
$this->_sections['week']['index_next'] = $this->_sections['week']['index'] + $this->_sections['week']['step'];
$this->_sections['week']['first']      = ($this->_sections['week']['iteration'] == 1);
$this->_sections['week']['last']       = ($this->_sections['week']['iteration'] == $this->_sections['week']['total']);
 echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['week_list'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['week_list'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['week_list']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['wday'] => $this->_tpl_vars['week_item']):
        $this->_foreach['week_list']['iteration']++;
 echo '';  $this->assign('week', ((is_array($_tmp=$this->_sections['week']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 1 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_first']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 2 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_second']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 3 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_third']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 4 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_fourth']);  echo '';  else:  echo '';  $this->assign('week', "-1");  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['reservation_rrule_week_end']);  echo '';  endif;  echo '';  $this->assign('byday', ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('cat', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_cat($_tmp, ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && in_array ( ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['weeknum'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['week_item']['long_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option>';  endforeach; endif; unset($_from);  echo '';  endfor; endif;  echo '</select></div></div><div class="hr"></div><div class="reservation_terminator"><div class="reservation_r_margin">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['YEARLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<label for=\'reservation_rrule_term_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'><input id=\'reservation_rrule_term_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\' type=\'radio\' name="rrule_term" value=\'COUNT\'';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['REPEAT_COUNT'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' onclick="reservationCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchTerm(this.form);commonCls.focus(this.form.rrule_count);" />';  echo $this->_tpl_vars['lang']['reservation_rrule_term_count'];  echo '</label><label for="reservation_rrule_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_rrule_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type=\'text\' name="rrule_count" size="3" maxlength="3" value="';  echo ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['COUNT'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  echo $this->_tpl_vars['lang']['reservation_rrule_count'];  echo '</label></div><div class="reservation_r_margin"><label for=\'reservation_rrule_term_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'><input id=\'reservation_rrule_term_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\' type=\'radio\' name="rrule_term" value=\'UNTIL\'';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['REPEAT_UNTIL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' onclick="reservationCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchTerm(this.form); commonCls.focus(this.form.rrule_until);" />';  echo $this->_tpl_vars['lang']['reservation_rrule_term_until'];  echo '</label><label for="reservation_rrule_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="reservation_rrule_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="rrule_until" class="rrule_until" type="text" value="';  echo ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['UNTIL_VIEW'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" size="13" maxlength="10" /></label></div></div><div class="hr"></div></div></td>'; ?>
