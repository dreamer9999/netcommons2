<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:38
         compiled from reservation_view_main_init_weekly.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'date', 'reservation_view_main_init_weekly.html', 3, false),array('modifier', 'escape', 'reservation_view_main_init_weekly.html', 13, false),array('modifier', 'get_image_url', 'reservation_view_main_init_weekly.html', 17, false),array('modifier', 'sprintf', 'reservation_view_main_init_weekly.html', 34, false),array('modifier', 'substr', 'reservation_view_main_init_weekly.html', 44, false),array('modifier', 'timezone_date', 'reservation_view_main_init_weekly.html', 75, false),)), $this); ?>
<?php echo '';  $this->assign('lang_year', ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_monthly_year_format'])) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['action']['current_timestamp'])) : date($_tmp, ($this->_tpl_vars['action']['current_timestamp']))));  echo '';  $this->assign('lang_month', ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_monthly_month_format'])) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['action']['current_timestamp'])) : date($_tmp, ($this->_tpl_vars['action']['current_timestamp']))));  echo '<div class="reservation_weekly">';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_header_weekly.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<div class="reservation_move_week">';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_move_week.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</div><table id="reservation_weekly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="reservation_body" summary="';  echo $this->_tpl_vars['lang']['reservation_summary'];  echo '"><tr>';  if (((is_array($_tmp=$this->_tpl_vars['action']['reserve_block']['display_timeframe'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<td class="reservation_timeframe_head" ><img class="reservation_blank" src="';  echo ((is_array($_tmp="")) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/common/blank.gif" alt="" title="" /></td>';  endif;  echo '<td class="reservation_time_head"><img class="reservation_blank" src="';  echo ((is_array($_tmp="")) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/common/blank.gif" alt="" title="" /></td>';  unset($this->_sections['timestamp']);
$this->_sections['timestamp']['name'] = 'timestamp';
$this->_sections['timestamp']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['action']['end_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['timestamp']['start'] = (int)((is_array($_tmp=$this->_tpl_vars['action']['start_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));
$this->_sections['timestamp']['step'] = ((int)86400) == 0 ? 1 : (int)86400;
$this->_sections['timestamp']['show'] = true;
$this->_sections['timestamp']['max'] = $this->_sections['timestamp']['loop'];
if ($this->_sections['timestamp']['start'] < 0)
    $this->_sections['timestamp']['start'] = max($this->_sections['timestamp']['step'] > 0 ? 0 : -1, $this->_sections['timestamp']['loop'] + $this->_sections['timestamp']['start']);
else
    $this->_sections['timestamp']['start'] = min($this->_sections['timestamp']['start'], $this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] : $this->_sections['timestamp']['loop']-1);
if ($this->_sections['timestamp']['show']) {
    $this->_sections['timestamp']['total'] = min(ceil(($this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] - $this->_sections['timestamp']['start'] : $this->_sections['timestamp']['start']+1)/abs($this->_sections['timestamp']['step'])), $this->_sections['timestamp']['max']);
    if ($this->_sections['timestamp']['total'] == 0)
        $this->_sections['timestamp']['show'] = false;
} else
    $this->_sections['timestamp']['total'] = 0;
if ($this->_sections['timestamp']['show']):

            for ($this->_sections['timestamp']['index'] = $this->_sections['timestamp']['start'], $this->_sections['timestamp']['iteration'] = 1;
                 $this->_sections['timestamp']['iteration'] <= $this->_sections['timestamp']['total'];
                 $this->_sections['timestamp']['index'] += $this->_sections['timestamp']['step'], $this->_sections['timestamp']['iteration']++):
$this->_sections['timestamp']['rownum'] = $this->_sections['timestamp']['iteration'];
$this->_sections['timestamp']['index_prev'] = $this->_sections['timestamp']['index'] - $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['index_next'] = $this->_sections['timestamp']['index'] + $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['first']      = ($this->_sections['timestamp']['iteration'] == 1);
$this->_sections['timestamp']['last']       = ($this->_sections['timestamp']['iteration'] == $this->_sections['timestamp']['total']);
 echo '';  $this->assign('timestamp', ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('date', ((is_array($_tmp='Ymd')) ? $this->_run_mod_handler('date', true, $_tmp, ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : date($_tmp, ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '';  if (( ((is_array($_tmp=$this->_sections['timestamp']['first'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '';  $this->assign('first_date', ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  endif;  echo '';  $this->assign('index', ((is_array($_tmp=$this->_sections['timestamp']['iteration']-1)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('wday', ((is_array($_tmp='w')) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['timestamp'])) : date($_tmp, ($this->_tpl_vars['timestamp']))));  echo '';  $this->assign('wday_data', ((is_array($_tmp=$this->_tpl_vars['action']['week_list'][$this->_tpl_vars['wday']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('lang_wday', ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_wday_format'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ($this->_tpl_vars['wday_data']['name'])) : sprintf($_tmp, ($this->_tpl_vars['wday_data']['name']))));  echo '';  $this->assign('lang_day', ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_weekly_format'])) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['timestamp'])) : date($_tmp, ($this->_tpl_vars['timestamp']))));  echo '';  ob_start();
$_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_set_day_class.html", 'smarty_include_vars' => array('view_date' => ((is_array($_tmp=$this->_tpl_vars['action']['view_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')),'set_date' => ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')),'wday' => ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
$this->assign('day_class', ob_get_contents()); ob_end_clean();
  echo '';  $this->assign('lang_year', ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_monthly_year_format'])) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['timestamp'])) : date($_tmp, ($this->_tpl_vars['timestamp']))));  echo '';  $this->assign('lang_month', ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_monthly_month_format'])) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['timestamp'])) : date($_tmp, ($this->_tpl_vars['timestamp']))));  echo '<th class="reservation_date_head" scope="row"><div class="reservation_date">';  if (( ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 0, 4) : substr($_tmp, 0, 4)) >= RESERVATION_SELECT_MIN_YEAR && ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 0, 4) : substr($_tmp, 0, 4)) < RESERVATION_SELECT_MAX_YEAR )):  echo '<a class="';  echo ((is_array($_tmp=$this->_tpl_vars['day_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ' hover_highlight" href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_ref_title_ymd'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang_year'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['lang_month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['lang_day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['lang_wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang_year'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['lang_month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['lang_day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['lang_wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" onclick=\'reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeReservation("';  echo ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", "';  echo ((is_array($_tmp=@RESERVATION_DEF_LOCATION)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\'><span class=\'reservation_date_num\'>';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang_day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('date', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : date($_tmp, ((is_array($_tmp=$this->_tpl_vars['timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</span><span class=\'reservation_date_wday\'>';  echo ((is_array($_tmp=$this->_tpl_vars['lang_wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</span></a>&nbsp;';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_addreserve.html", 'smarty_include_vars' => array('view_date' => ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')),'hour' => "")));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  else:  echo '<span class=\'reservation_date_num reservation_outside\'>';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang_day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('date', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : date($_tmp, ((is_array($_tmp=$this->_tpl_vars['timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</span><span class=\'reservation_date_wday reservation_outside\'>';  echo ((is_array($_tmp=$this->_tpl_vars['lang_wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</span>';  endif;  echo '</div><img class="reservation_blank" src="';  echo ((is_array($_tmp="")) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/common/blank.gif" alt="" title="" /></th>';  endfor; endif;  echo '</tr></table><div id="reservation_time_frame';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="reservation_time_frame print_preview_nonescroll" style="height:';  echo ((is_array($_tmp=$this->_tpl_vars['action']['frame_height'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo 'px;"><table class="reservation_reserve_body" summary="">';  unset($this->_sections['hour']);
$this->_sections['hour']['name'] = 'hour';
$this->_sections['hour']['loop'] = is_array($_loop=24) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['hour']['start'] = (int)0;
$this->_sections['hour']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['hour']['show'] = true;
$this->_sections['hour']['max'] = $this->_sections['hour']['loop'];
if ($this->_sections['hour']['start'] < 0)
    $this->_sections['hour']['start'] = max($this->_sections['hour']['step'] > 0 ? 0 : -1, $this->_sections['hour']['loop'] + $this->_sections['hour']['start']);
else
    $this->_sections['hour']['start'] = min($this->_sections['hour']['start'], $this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] : $this->_sections['hour']['loop']-1);
if ($this->_sections['hour']['show']) {
    $this->_sections['hour']['total'] = min(ceil(($this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] - $this->_sections['hour']['start'] : $this->_sections['hour']['start']+1)/abs($this->_sections['hour']['step'])), $this->_sections['hour']['max']);
    if ($this->_sections['hour']['total'] == 0)
        $this->_sections['hour']['show'] = false;
} else
    $this->_sections['hour']['total'] = 0;
if ($this->_sections['hour']['show']):

            for ($this->_sections['hour']['index'] = $this->_sections['hour']['start'], $this->_sections['hour']['iteration'] = 1;
                 $this->_sections['hour']['iteration'] <= $this->_sections['hour']['total'];
                 $this->_sections['hour']['index'] += $this->_sections['hour']['step'], $this->_sections['hour']['iteration']++):
$this->_sections['hour']['rownum'] = $this->_sections['hour']['iteration'];
$this->_sections['hour']['index_prev'] = $this->_sections['hour']['index'] - $this->_sections['hour']['step'];
$this->_sections['hour']['index_next'] = $this->_sections['hour']['index'] + $this->_sections['hour']['step'];
$this->_sections['hour']['first']      = ($this->_sections['hour']['iteration'] == 1);
$this->_sections['hour']['last']       = ($this->_sections['hour']['iteration'] == $this->_sections['hour']['total']);
 echo '';  $this->assign('hour', ((is_array($_tmp=$this->_sections['hour']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<tr>';  if (((is_array($_tmp=$this->_tpl_vars['action']['reserve_block']['display_timeframe'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ( ((is_array($_tmp=$this->_sections['hour']['first'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '<th class="reservation_timeframe_wrapper" scope="col" rowspan=24><div class="reservation_timeframe_wrapper" >';  $this->assign('start_pos', 0);  echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['timeframe_list'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['timeframe']):
 echo '';  $this->assign('spacer_height', ($this->_tpl_vars['timeframe']['top']-$this->_tpl_vars['start_pos']));  echo '<div class="reservation_timeframe_spacer" style="height:';  echo ((is_array($_tmp=$this->_tpl_vars['spacer_height'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo 'px;"></div><div class="reservation_timeframe_label" style="height:';  echo ((is_array($_tmp=$this->_tpl_vars['timeframe']['height']-2)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo 'px;background-color:';  if (((is_array($_tmp=$this->_tpl_vars['timeframe']['timeframe_color'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ""):  echo 'transparent';  else:  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['timeframe']['timeframe_color'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  endif;  echo '" title="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['timeframe']['start_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('timezone_date', true, $_tmp, false, ((is_array($_tmp=$this->_tpl_vars['lang']['_short_time_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : timezone_date($_tmp, false, ((is_array($_tmp=$this->_tpl_vars['lang']['_short_time_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_time_pause'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['timeframe']['end_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('timezone_date', true, $_tmp, false, ((is_array($_tmp=$this->_tpl_vars['lang']['_short_time_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : timezone_date($_tmp, false, ((is_array($_tmp=$this->_tpl_vars['lang']['_short_time_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '"><div class="float-right">';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_addreserve.html", 'smarty_include_vars' => array('view_date' => ((is_array($_tmp=$this->_tpl_vars['first_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')),'timeframe_id' => ($this->_tpl_vars['timeframe']['timeframe_id']))));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</div>';  echo ((is_array($_tmp=$this->_tpl_vars['timeframe']['timeframe_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</div>';  $this->assign('start_pos', ((is_array($_tmp=$this->_tpl_vars['timeframe']['top']+$this->_tpl_vars['timeframe']['height'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  endforeach; endif; unset($_from);  echo '</div></th>';  endif;  echo '<th class="reservation_background reservation_time_height" scope="col" ><div class="reservation_time">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['reservation_time_format'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_addreserve.html", 'smarty_include_vars' => array('view_date' => ((is_array($_tmp=$this->_tpl_vars['first_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')),'hour' => ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</div></th>';  if (( ((is_array($_tmp=$this->_sections['hour']['first'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '';  unset($this->_sections['timestamp']);
$this->_sections['timestamp']['name'] = 'timestamp';
$this->_sections['timestamp']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['action']['end_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['timestamp']['start'] = (int)((is_array($_tmp=$this->_tpl_vars['action']['start_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));
$this->_sections['timestamp']['step'] = ((int)86400) == 0 ? 1 : (int)86400;
$this->_sections['timestamp']['show'] = true;
$this->_sections['timestamp']['max'] = $this->_sections['timestamp']['loop'];
if ($this->_sections['timestamp']['start'] < 0)
    $this->_sections['timestamp']['start'] = max($this->_sections['timestamp']['step'] > 0 ? 0 : -1, $this->_sections['timestamp']['loop'] + $this->_sections['timestamp']['start']);
else
    $this->_sections['timestamp']['start'] = min($this->_sections['timestamp']['start'], $this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] : $this->_sections['timestamp']['loop']-1);
if ($this->_sections['timestamp']['show']) {
    $this->_sections['timestamp']['total'] = min(ceil(($this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] - $this->_sections['timestamp']['start'] : $this->_sections['timestamp']['start']+1)/abs($this->_sections['timestamp']['step'])), $this->_sections['timestamp']['max']);
    if ($this->_sections['timestamp']['total'] == 0)
        $this->_sections['timestamp']['show'] = false;
} else
    $this->_sections['timestamp']['total'] = 0;
if ($this->_sections['timestamp']['show']):

            for ($this->_sections['timestamp']['index'] = $this->_sections['timestamp']['start'], $this->_sections['timestamp']['iteration'] = 1;
                 $this->_sections['timestamp']['iteration'] <= $this->_sections['timestamp']['total'];
                 $this->_sections['timestamp']['index'] += $this->_sections['timestamp']['step'], $this->_sections['timestamp']['iteration']++):
$this->_sections['timestamp']['rownum'] = $this->_sections['timestamp']['iteration'];
$this->_sections['timestamp']['index_prev'] = $this->_sections['timestamp']['index'] - $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['index_next'] = $this->_sections['timestamp']['index'] + $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['first']      = ($this->_sections['timestamp']['iteration'] == 1);
$this->_sections['timestamp']['last']       = ($this->_sections['timestamp']['iteration'] == $this->_sections['timestamp']['total']);
 echo '';  $this->assign('timestamp', ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('date', ((is_array($_tmp='Ymd')) ? $this->_run_mod_handler('date', true, $_tmp, ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : date($_tmp, ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<td rowspan="24" class="reservation_background';  if (( ((is_array($_tmp=$this->_sections['timestamp']['last'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' reservation_background_endline';  endif;  echo '" style="width:94px;"><div class="reservation_';  echo ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['reserve_data'][$this->_tpl_vars['date']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "./reservation_view_main_list_weekly.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  else:  echo '&nbsp;';  endif;  echo '</div></td>';  endfor; endif;  echo '';  endif;  echo '</tr>';  endfor; endif;  echo '<tr>';  if (((is_array($_tmp=$this->_tpl_vars['action']['reserve_block']['display_timeframe'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<th class="reservation_background reservation_timeframe_height"></th>';  endif;  echo '<td class="reservation_time_head"><img class="reservation_blank" src="';  echo ((is_array($_tmp="")) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/common/blank.gif" alt="" title="" /></td>';  unset($this->_sections['timestamp']);
$this->_sections['timestamp']['name'] = 'timestamp';
$this->_sections['timestamp']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['action']['end_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['timestamp']['start'] = (int)((is_array($_tmp=$this->_tpl_vars['action']['start_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));
$this->_sections['timestamp']['step'] = ((int)86400) == 0 ? 1 : (int)86400;
$this->_sections['timestamp']['show'] = true;
$this->_sections['timestamp']['max'] = $this->_sections['timestamp']['loop'];
if ($this->_sections['timestamp']['start'] < 0)
    $this->_sections['timestamp']['start'] = max($this->_sections['timestamp']['step'] > 0 ? 0 : -1, $this->_sections['timestamp']['loop'] + $this->_sections['timestamp']['start']);
else
    $this->_sections['timestamp']['start'] = min($this->_sections['timestamp']['start'], $this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] : $this->_sections['timestamp']['loop']-1);
if ($this->_sections['timestamp']['show']) {
    $this->_sections['timestamp']['total'] = min(ceil(($this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] - $this->_sections['timestamp']['start'] : $this->_sections['timestamp']['start']+1)/abs($this->_sections['timestamp']['step'])), $this->_sections['timestamp']['max']);
    if ($this->_sections['timestamp']['total'] == 0)
        $this->_sections['timestamp']['show'] = false;
} else
    $this->_sections['timestamp']['total'] = 0;
if ($this->_sections['timestamp']['show']):

            for ($this->_sections['timestamp']['index'] = $this->_sections['timestamp']['start'], $this->_sections['timestamp']['iteration'] = 1;
                 $this->_sections['timestamp']['iteration'] <= $this->_sections['timestamp']['total'];
                 $this->_sections['timestamp']['index'] += $this->_sections['timestamp']['step'], $this->_sections['timestamp']['iteration']++):
$this->_sections['timestamp']['rownum'] = $this->_sections['timestamp']['iteration'];
$this->_sections['timestamp']['index_prev'] = $this->_sections['timestamp']['index'] - $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['index_next'] = $this->_sections['timestamp']['index'] + $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['first']      = ($this->_sections['timestamp']['iteration'] == 1);
$this->_sections['timestamp']['last']       = ($this->_sections['timestamp']['iteration'] == $this->_sections['timestamp']['total']);
 echo '';  $this->assign('timestamp', ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('date', ((is_array($_tmp='Ymd')) ? $this->_run_mod_handler('date', true, $_tmp, ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : date($_tmp, ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<td class="reservation_date_head"><img class="reservation_blank" src="';  echo ((is_array($_tmp="")) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/common/blank.gif" alt="" title="" /></td>';  endfor; endif;  echo '</tr></table></div>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_swicth_display_type.html", 'smarty_include_vars' => array('display_type' => ((is_array($_tmp=@RESERVATION_DEF_WEEKLY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</div>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../reservation_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<script class="nc_script" type="text/javascript">reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].disp_type = "';  echo ((is_array($_tmp=@RESERVATION_DEF_WEEKLY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].view_date = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['view_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].category_id = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['reserve_block']['category_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].location_id = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['reserve_block']['location_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";reservationCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].today = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['today'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";';  if (( ((is_array($_tmp=$_SESSION['reservation']['popup_move']['_id'][$this->_tpl_vars['block_id']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo 'if(reservationCls["';  echo ((is_array($_tmp=$_SESSION['reservation']['popup_move']['_id'][$this->_tpl_vars['block_id']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"]) {reservationCls["';  echo ((is_array($_tmp=$_SESSION['reservation']['popup_move']['_id'][$this->_tpl_vars['block_id']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].setMoveDate("';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['input_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");}';  endif;  echo '</script>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "reservation_main_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo ''; ?>