<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:37
         compiled from search_view_main_condition.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'search_view_main_condition.html', 3, false),)), $this); ?>
<?php echo '<form id="search_form_';  echo ((is_array($_tmp=$this->_tpl_vars['action']['center'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" action="#" method="get" onsubmit="return false;">';  if (((is_array($_tmp=$this->_tpl_vars['action']['search_blocks']['show_mode'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == SEARCH_SHOW_MODE_NORMAL):  echo '';  echo '<table class="outer" cellspacing="1" summary="';  echo ((is_array($_tmp=@_SUMMARY_SEARCHFORM)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo '<tr class="row"><th class="nowrap" scope="row"><label for="search_keyword';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['search_keyword'];  echo '</label></th><td class="nowrap"><input id="search_keyword';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="text" type="text" name="keyword" value="';  echo ((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['keyword'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\' onkeydown=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].keydownExec(event,this.form);\' /></td></tr>';  echo '<tr class="row"><th class="nowrap" scope="row">';  echo $this->_tpl_vars['lang']['search_kind'];  echo '</th><td class="nowrap"><select id="search_kind';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="select_kind" size="1" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\'><option value="';  echo ((is_array($_tmp=@_SELECT_KIND_AND)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['select_kind'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _SELECT_KIND_AND )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['search_kind_and'];  echo '</option><option value="';  echo ((is_array($_tmp=@_SELECT_KIND_OR)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['select_kind'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _SELECT_KIND_OR )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['search_kind_or'];  echo '</option><option value="';  echo ((is_array($_tmp=@_SELECT_KIND_PHRASE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['select_kind'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _SELECT_KIND_PHRASE )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['search_kind_phrase'];  echo '</option></select></td></tr>';  echo '<tr class="row"><th class="nowrap" scope="row"><label for="search_handle';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['search_handle'];  echo '</label></th><td class="nowrap"><input id="search_handle';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="text" type="text" name="handle" value="';  echo ((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['handle'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\' onkeydown=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].keydownExec(event,this.form);\' /></td></tr>';  echo '<tr class="row"><th class="nowrap" scope="row"><label for="search_fm_target_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['search_target_date'];  echo '</label></th><td class="nowrap"><input id="search_fm_target_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comp_calendar_text" type="text" name="fm_target_date" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['fm_target_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\' onkeydown=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].keydownExec(event,this.form);\' />';  echo $this->_tpl_vars['lang']['search_target_date_separator'];  echo '<input id="search_to_target_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comp_calendar_text" type="text" name="to_target_date" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['to_target_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\' onkeydown=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].keydownExec(event,this.form);\' /></td></tr>';  echo '<tr class="row"><th class="nowrap" scope="row">';  echo $this->_tpl_vars['lang']['search_target_room'];  echo '</th><td class="nowrap"><select id="search_target_room';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="target_room" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\'><option value="">';  echo $this->_tpl_vars['lang']['search_none_specified'];  echo '</option>';  $this->assign('pages_list', ((is_array($_tmp=$this->_tpl_vars['action']['pages_list']['0']['0'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "search_view_main_selectroom.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</select></td></tr>';  echo '<tr class="row"><th class="nowrap" scope="row">';  echo $this->_tpl_vars['lang']['search_target_module'];  echo '</th><td class="nowrap"><table summary="';  echo ((is_array($_tmp=@_SUMMARY_TARGETMODULE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  $this->assign('line', ((is_array($_tmp=$this->_tpl_vars['conf']['search_target_module_line'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['modules'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['loop'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['loop']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['module']):
        $this->_foreach['loop']['iteration']++;
 echo '';  $this->assign('loop_num', ((is_array($_tmp=$this->_foreach['loop']['iteration']-1)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ( ((is_array($_tmp=$this->_tpl_vars['loop_num'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) % ((is_array($_tmp=$this->_tpl_vars['line'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo '<tr>';  endif;  echo '<td class="nowrap"><label for="search_target_module';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '_';  echo ((is_array($_tmp=$this->_tpl_vars['module']['module_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="search_target_module';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '_';  echo ((is_array($_tmp=$this->_tpl_vars['module']['module_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="target_modules[]" value="';  echo ((is_array($_tmp=$this->_tpl_vars['module']['module_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (((is_array($_tmp=$this->_tpl_vars['module']['target_module_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo ' checked="checked"';  endif;  echo ' />';  echo ((is_array($_tmp=$this->_tpl_vars['module']['module_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</label></td>';  if (( ((is_array($_tmp=($this->_foreach['loop']['iteration'] == $this->_foreach['loop']['total']))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '';  $this->assign('remainder', ((is_array($_tmp=$this->_tpl_vars['line']-$this->_tpl_vars['loop_num']%$this->_tpl_vars['line'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['remainder'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) > 0 )):  echo '';  unset($this->_sections['i']);
$this->_sections['i']['name'] = 'i';
$this->_sections['i']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['remainder']-1)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['i']['start'] = (int)0;
$this->_sections['i']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['i']['show'] = true;
$this->_sections['i']['max'] = $this->_sections['i']['loop'];
if ($this->_sections['i']['start'] < 0)
    $this->_sections['i']['start'] = max($this->_sections['i']['step'] > 0 ? 0 : -1, $this->_sections['i']['loop'] + $this->_sections['i']['start']);
else
    $this->_sections['i']['start'] = min($this->_sections['i']['start'], $this->_sections['i']['step'] > 0 ? $this->_sections['i']['loop'] : $this->_sections['i']['loop']-1);
if ($this->_sections['i']['show']) {
    $this->_sections['i']['total'] = min(ceil(($this->_sections['i']['step'] > 0 ? $this->_sections['i']['loop'] - $this->_sections['i']['start'] : $this->_sections['i']['start']+1)/abs($this->_sections['i']['step'])), $this->_sections['i']['max']);
    if ($this->_sections['i']['total'] == 0)
        $this->_sections['i']['show'] = false;
} else
    $this->_sections['i']['total'] = 0;
if ($this->_sections['i']['show']):

            for ($this->_sections['i']['index'] = $this->_sections['i']['start'], $this->_sections['i']['iteration'] = 1;
                 $this->_sections['i']['iteration'] <= $this->_sections['i']['total'];
                 $this->_sections['i']['index'] += $this->_sections['i']['step'], $this->_sections['i']['iteration']++):
$this->_sections['i']['rownum'] = $this->_sections['i']['iteration'];
$this->_sections['i']['index_prev'] = $this->_sections['i']['index'] - $this->_sections['i']['step'];
$this->_sections['i']['index_next'] = $this->_sections['i']['index'] + $this->_sections['i']['step'];
$this->_sections['i']['first']      = ($this->_sections['i']['iteration'] == 1);
$this->_sections['i']['last']       = ($this->_sections['i']['iteration'] == $this->_sections['i']['total']);
 echo '<td>&nbsp;</td>';  endfor; endif;  echo '';  endif;  echo '';  endif;  echo '';  if (( ( ((is_array($_tmp=$this->_tpl_vars['loop_num'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) % ((is_array($_tmp=$this->_tpl_vars['line'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == ((is_array($_tmp=$this->_tpl_vars['line']-1)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) || ((is_array($_tmp=($this->_foreach['loop']['iteration'] == $this->_foreach['loop']['total']))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '</tr>';  endif;  echo '';  endforeach; endif; unset($_from);  echo '</table></td></tr></table><div class="btn-bottom"><input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['search_btn'];  echo '" onclick=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].searchExec(this.form); return false;\' />&nbsp;<input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['search_clear'];  echo '" onclick=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].clearExec(';  if (((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['center_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON):  echo '"';  echo ((is_array($_tmp=@DEFAULT_ACTION)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  endif;  echo '); return false;\' /></div>';  else:  echo '';  echo '<div class="nowrap"><label for="search_keyword';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="search_keyword';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="text" value="';  echo ((is_array($_tmp=$_SESSION['search_select'][$this->_tpl_vars['block_id']]['keyword'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="keyword" onblur=\'Element.removeClassName(this,"highlight");\' onfocus=\'Element.addClassName(this,"highlight");\' onkeydown=\'if (event.keyCode == 13) { searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].easySearch(this.form,"';  echo ((is_array($_tmp=@DEFAULT_ACTION)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false; }\' /></label><input type="button" value="';  echo $this->_tpl_vars['lang']['search_btn'];  echo '" onclick=\'searchCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].easySearch(this.form,"';  echo ((is_array($_tmp=@DEFAULT_ACTION)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\' />';  echo '';  if (((is_array($_tmp=$this->_tpl_vars['action']['search_blocks']['detail_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON):  echo '&nbsp;<a class="link" href="#" onclick=\'commonCls.sendView("';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '","action=search_view_main_init&amp;show_mode=';  echo ((is_array($_tmp=@SEARCH_SHOW_MODE_NORMAL)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\' />';  echo $this->_tpl_vars['lang']['search_detail_link'];  echo '</a>';  endif;  echo '</div><input type="hidden" name="select_kind" value="';  echo ((is_array($_tmp=@_SELECT_KIND_AND)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /><input type="hidden" name="display_days" value="';  echo ((is_array($_tmp=$this->_tpl_vars['conf']['search_display_days'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /><input type="hidden" name="show_mode" value="';  echo ((is_array($_tmp=@SEARCH_SHOW_MODE_NORMAL)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  echo '';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['modules'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['loop'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['loop']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['module']):
        $this->_foreach['loop']['iteration']++;
 echo '';  $this->assign('loop_num', ((is_array($_tmp=$this->_foreach['loop']['iteration']-1)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<input type="hidden" name="target_modules[';  echo ((is_array($_tmp=$this->_tpl_vars['loop_num'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ']" value="';  echo ((is_array($_tmp=$this->_tpl_vars['module']['module_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  endforeach; endif; unset($_from);  echo '';  endif;  echo '</form>'; ?>