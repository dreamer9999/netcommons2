<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:35
         compiled from photoalbum_view_main_photo_list.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'photoalbum_view_main_photo_list.html', 3, false),array('modifier', 'sprintf', 'photoalbum_view_main_photo_list.html', 36, false),array('modifier', 'get_themes_image', 'photoalbum_view_main_photo_list.html', 37, false),)), $this); ?>
<?php echo '';  echo '<form id="photoalbum_photo_list_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="photoalbum_photo_list_form" action="#" onsubmit="commonCls.sendPost(\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\', Form.serialize($(\'photoalbum_photo_list_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\')), {\'target_el\':$(\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\')});return false;"><input type="hidden" name="action" /><input type="hidden" name="photoalbum_id" /><input type="hidden" name="album_id" /><label class="photoalbum_photo_list_sort"><select id="photoalbum_photo_sort';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="sort" onchange="photoalbumCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].showPhotoList(event, {\'sort\':this.value});return false;""><option value="';  echo ((is_array($_tmp=@PHOTOALBUM_PHOTO_SORT_NONE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['photoalbum_photo_sort_none'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option><option value="';  echo ((is_array($_tmp=@PHOTOALBUM_PHOTO_SORT_DATE_DESC)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['photoalbum_photo_sort_date_desc'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option><option value="';  echo ((is_array($_tmp=@PHOTOALBUM_PHOTO_SORT_DATE_ASC)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['photoalbum_photo_sort_date_asc'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option><option value="';  echo ((is_array($_tmp=@PHOTOALBUM_PHOTO_SORT_PHOTO_NAME)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['photoalbum_photo_sort_photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option><option value="';  echo ((is_array($_tmp=@PHOTOALBUM_PHOTO_SORT_VOTE)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['photoalbum_photo_sort_vote'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option></select></label><div class="photoalbum_photo_list_outer"><div id="photoalbum_photo_list';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="photoalbum_photo_list">';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['photos'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['photo']):
 echo '<div id="photoalbum_photo_list_photo_area';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['photo_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="photoalbum_photo_list_photo_area" onmouseover="photoalbumCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].photoMouseOver(this);" onmouseout="photoalbumCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].photoMouseOut(this);"><div class="photoalbum_photo_drag"></div><div class="photoalbum_photo_list_photo">';  $this->assign('photo_name', ((is_array($_tmp=((is_array($_tmp=($this->_tpl_vars['photo']['photo_name']))) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript')))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<a class="photoalbum_photo_list_photo syslink" href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onclick="commonCls.showPopupImageFullScale(this);return false;"><img class="photoalbum_thumbnail" src=".';  echo ((is_array($_tmp=@INDEX_FILE_NAME)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['photo_path'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" alt="';  echo ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" title="" style="';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['thumbnail_style'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /></a><div class="photoalbum_photo_name">';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</div>';  if (((is_array($_tmp=$this->_tpl_vars['photo']['edit_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<a class="syslink" href="#" title="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['_edit_title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" onclick="photoalbumCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].showPhotoEntry(event, \'';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['photo_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\');return false;"><img src="';  echo ((is_array($_tmp="edit_light.gif")) ? $this->_run_mod_handler('get_themes_image', true, $_tmp) : get_themes_image($_tmp));  echo '" alt="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['_edit_title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" title="" /></a><a class="syslink" href="#" title="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['_del_title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" onclick="photoalbumCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].deletePhoto(\'';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['photo_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\', \'';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['_del_confirm'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ($this->_tpl_vars['photo_name'])) : sprintf($_tmp, ($this->_tpl_vars['photo_name'])));  echo '\');return false;"><img src="';  echo ((is_array($_tmp="trash_silhouette.gif")) ? $this->_run_mod_handler('get_themes_image', true, $_tmp) : get_themes_image($_tmp));  echo '" alt="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['_del_title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['photo_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" title="" /></a>';  endif;  echo '<input type="hidden" name="photo_ids[]" value="';  echo ((is_array($_tmp=$this->_tpl_vars['photo']['photo_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /></div><br class="float-clear" /></div>';  endforeach; endif; unset($_from);  echo '</div><br class="float-clear" /></div><br class="float-clear" /><div class="btn-bottom"><input class="btn-width" type="submit" value="';  echo $this->_tpl_vars['lang']['_regist'];  echo '" /><input class="lined_btn btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_cancel'];  echo '" onclick="photoalbumCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].redrawPhoto();" /></div></form>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../photoalbum_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<script class="nc_script" type="text/javascript">var photoalbumForm = $("photoalbum_photo_list_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");photoalbumForm["action"].value = "photoalbum_action_main_photo_sequence";photoalbumForm["photoalbum_id"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['photoalbum']['photoalbum_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";photoalbumForm["album_id"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['album']['album_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";photoalbumForm["sort"].value = "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['sort'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";var draggable = Class.create();draggable.prototype = Object.extend((new compDraggable), {cancelDrag: function() {Element.setStyle(this.htmlElement, {opacity:""});Element.removeClassName(this.htmlElement, "photoalbum_photo_over");},endDrag: function() {this.cancelDrag();}});var dropZone = Class.create();dropZone.prototype = Object.extend((new compDropzone), {isLastElement: function() {var drop = this.getHTMLElement();if (Element.hasClassName(drop, "photoalbum_photo_list")) {return true;}return false;},showHover: function(event) {if (this.isLastElement()) {var drop = this.getHTMLElement();var offset = Position.cumulativeOffset(drop.lastChild);offset[0] += drop.lastChild.offsetWidth;if(Event.pointerX(event) > offset[0]&& Event.pointerY(event) > offset[1]) {this.showChgSeqHover(event);}} else {this.showChgSeqHover(event);}},hideHover: function(event) {if (this.ChgSeqHover&& this.ChgSeqHover.parentNode) {this.hideChgSeqHover(event);}},save: function(draggableObjects) {if (!this.ChgSeqHover || this.ChgSeqPosition == null) {return false;}return true;},showChgSeqHover: function(event, pos) {var drop = this.getHTMLElement();if (this.isLastElement()) {drop = drop.lastChild;}var id = this.getParams();var hoverElement = $("photoalbum_hover" + id);if (hoverElement) {this.ChgSeqHover = hoverElement;} else {this.ChgSeqHover = document.createElement("div");this.ChgSeqHover.id = "photoalbum_hover" + id;document.body.appendChild(this.ChgSeqHover);}var dropOffset = Position.cumulativeOffset(drop);this.ChgSeqHover.style.height = drop.offsetHeight + "px";this.ChgSeqHover.style.width = "1px";this.ChgSeqHover.style.position = "absolute";this.ChgSeqHover.style.top = dropOffset[1]  + "px";commonCls.max_zIndex++;this.ChgSeqHover.style.zIndex = commonCls.max_zIndex;var centerX = dropOffset[0] + (drop.offsetWidth / 2);if (centerX < Event.pointerX(event)) {this.ChgSeqPosition = "right";this.ChgSeqHover.style.left = (dropOffset[0] + drop.offsetWidth)  + "px";} else {this.ChgSeqPosition = "left";this.ChgSeqHover.style.left = dropOffset[0]  + "px";}this.ChgSeqHover.style.borderLeft = "3px";this.ChgSeqHover.style.borderLeftStyle = "solid";this.ChgSeqHover.style.borderLeftColor = "#ffff00";},accept: function(draggableObjects) {var drag = draggableObjects[0].getDroppedGUI();Element.setStyle(drag, {"width":""});var drop = this.getHTMLElement();if (this.isLastElement()) {drop = drop.lastChild;drop.parentNode.appendChild(drag);} else if(this.ChgSeqPosition == "left"){drop.parentNode.insertBefore(drag, drop);} else if (this.ChgSeqPosition == "right") {var target = drop.nextSibling;if (target == null) {drop.parentNode.appendChild(drag);} else {drop.parentNode.insertBefore(drag, target);}}}});var dragArea = $("photoalbum_photo_list';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");photoalbumCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dragDrop = new compDragAndDrop();photoalbumCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dragDrop.registerDraggableRange(dragArea);var photos = dragArea.childNodes;for (var i = 0; i < photos.length; i++) {photoalbumCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dragDrop.registerDraggable(new draggable(photos[i], photos[i].firstChild));photoalbumCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dragDrop.registerDropZone(new dropZone(photos[i], "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));}photoalbumCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dragDrop.registerDropZone(new dropZone(dragArea, "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));commonCls.focus(photoalbumForm["sort"]);photoalbumForm = null;draggable = null;dropZone = null;dragArea = null;photos = null;</script>'; ?>