<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:33
         compiled from calendar_view_main_plan_regist.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'calendar_view_main_plan_regist.html', 4, false),array('modifier', 'get_image_url', 'calendar_view_main_plan_regist.html', 20, false),array('modifier', 'substr', 'calendar_view_main_plan_regist.html', 67, false),array('modifier', 'intval', 'calendar_view_main_plan_regist.html', 67, false),array('modifier', 'string_format', 'calendar_view_main_plan_regist.html', 68, false),array('modifier', 'wysiwig_convert_url', 'calendar_view_main_plan_regist.html', 203, false),array('modifier', 'explode', 'calendar_view_main_plan_regist.html', 219, false),array('modifier', 'sprintf', 'calendar_view_main_plan_regist.html', 255, false),)), $this); ?>
<?php echo '<div class="outerdiv nowrap"><div id="calendar_error_message';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="errorstr display-none">';  echo $this->_tpl_vars['lang']['calendar_error_plan_flag'];  echo '</div><div id="calendar_error_message_notfound';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="errorstr display-none">';  echo $this->_tpl_vars['lang']['calendar_error_no_plan_flag'];  echo '</div><form id="calendar_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" action="#" method="post" onsubmit="return false;"><table class="outer" summary="';  echo $this->_tpl_vars['lang']['calendar_summary'];  echo '"><tr class="row"><th class="nowrap" scope="row"><label for="plan_title';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_plan_title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</lable></th><td><a href="#" alt="" title=""><img id="icon_name_img';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comp_title_icon" src="';  echo ((is_array($_tmp="")) ? $this->_run_mod_handler('get_image_url', true, $_tmp) : get_image_url($_tmp));  echo '/images/comp/textarea/';  if (((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['title_icon'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != ""):  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['title_icon'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  else:  echo 'titleicon/blank.gif';  endif;  echo '" alt="" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].showIcon();return false;\' onmouseover=\'Element.addClassName(this, "comptextarea_dialog_highlight");\' onmouseout=\'Element.removeClassName(this, "comptextarea_dialog_highlight");\' /></a><input id="icon_name_hidden';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="icon_name" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['title_icon'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="hidden" /><input id="plan_title';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="text" name="title" type="text" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /></td></tr><tr class="row"><th class="nowrap" scope="row"><label for="plan_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['calendar_plan_flag'];  echo '</lable></th><td>';  $this->assign('next_thread_num', 0);  echo '';  $this->assign('next_parent_id', 0);  echo '';  $this->assign('room_list', ((is_array($_tmp=$this->_tpl_vars['action']['room_arr'][$this->_tpl_vars['next_thread_num']][$this->_tpl_vars['next_parent_id']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select id="plan_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="plan_room_id" onchange=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRoom(this);\' class="calendar_plan_room_id">';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "./calendar_view_recursive_room.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</select>';  if (((is_array($_tmp=$this->_tpl_vars['action']['block']['select_room'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON && count ( ((is_array($_tmp=$this->_tpl_vars['action']['block']['select_room_list'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) > 0):  echo '<div>';  echo $this->_tpl_vars['lang']['calendar_open_object_desc'];  echo '</div>';  endif;  echo '</td></tr>';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['details_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _OFF )):  echo '<tr class="row"><th class="nowrap" scope="row"><label for="start_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['calendar_plan_time'];  echo '</lable></th><td class="nowrap"><input id="start_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="calendar_start_date" name="start_date" type="text" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['input_start_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" size="13" maxlength="10" /><label for="allday_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="allday_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="allday_flag" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchAllday(this.form);\' />';  echo $this->_tpl_vars['lang']['calendar_allday_flag'];  echo '</label><input type="hidden" name="end_date" value="" /><br /><select name="start_hour"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo '>';  unset($this->_sections['hour']);
$this->_sections['hour']['name'] = 'hour';
$this->_sections['hour']['loop'] = is_array($_loop=24) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['hour']['start'] = (int)0;
$this->_sections['hour']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['hour']['show'] = true;
$this->_sections['hour']['max'] = $this->_sections['hour']['loop'];
if ($this->_sections['hour']['start'] < 0)
    $this->_sections['hour']['start'] = max($this->_sections['hour']['step'] > 0 ? 0 : -1, $this->_sections['hour']['loop'] + $this->_sections['hour']['start']);
else
    $this->_sections['hour']['start'] = min($this->_sections['hour']['start'], $this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] : $this->_sections['hour']['loop']-1);
if ($this->_sections['hour']['show']) {
    $this->_sections['hour']['total'] = min(ceil(($this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] - $this->_sections['hour']['start'] : $this->_sections['hour']['start']+1)/abs($this->_sections['hour']['step'])), $this->_sections['hour']['max']);
    if ($this->_sections['hour']['total'] == 0)
        $this->_sections['hour']['show'] = false;
} else
    $this->_sections['hour']['total'] = 0;
if ($this->_sections['hour']['show']):

            for ($this->_sections['hour']['index'] = $this->_sections['hour']['start'], $this->_sections['hour']['iteration'] = 1;
                 $this->_sections['hour']['iteration'] <= $this->_sections['hour']['total'];
                 $this->_sections['hour']['index'] += $this->_sections['hour']['step'], $this->_sections['hour']['iteration']++):
$this->_sections['hour']['rownum'] = $this->_sections['hour']['iteration'];
$this->_sections['hour']['index_prev'] = $this->_sections['hour']['index'] - $this->_sections['hour']['step'];
$this->_sections['hour']['index_next'] = $this->_sections['hour']['index'] + $this->_sections['hour']['step'];
$this->_sections['hour']['first']      = ($this->_sections['hour']['iteration'] == 1);
$this->_sections['hour']['last']       = ($this->_sections['hour']['iteration'] == $this->_sections['hour']['total']);
 echo '';  $this->assign('hour', ((is_array($_tmp=$this->_sections['hour']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_hour', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['start_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 0, 2) : substr($_tmp, 0, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>&nbsp;<select name="start_minute"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo '>';  unset($this->_sections['minute']);
$this->_sections['minute']['name'] = 'minute';
$this->_sections['minute']['loop'] = is_array($_loop=60) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['minute']['start'] = (int)0;
$this->_sections['minute']['step'] = ((int)5) == 0 ? 1 : (int)5;
$this->_sections['minute']['show'] = true;
$this->_sections['minute']['max'] = $this->_sections['minute']['loop'];
if ($this->_sections['minute']['start'] < 0)
    $this->_sections['minute']['start'] = max($this->_sections['minute']['step'] > 0 ? 0 : -1, $this->_sections['minute']['loop'] + $this->_sections['minute']['start']);
else
    $this->_sections['minute']['start'] = min($this->_sections['minute']['start'], $this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] : $this->_sections['minute']['loop']-1);
if ($this->_sections['minute']['show']) {
    $this->_sections['minute']['total'] = min(ceil(($this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] - $this->_sections['minute']['start'] : $this->_sections['minute']['start']+1)/abs($this->_sections['minute']['step'])), $this->_sections['minute']['max']);
    if ($this->_sections['minute']['total'] == 0)
        $this->_sections['minute']['show'] = false;
} else
    $this->_sections['minute']['total'] = 0;
if ($this->_sections['minute']['show']):

            for ($this->_sections['minute']['index'] = $this->_sections['minute']['start'], $this->_sections['minute']['iteration'] = 1;
                 $this->_sections['minute']['iteration'] <= $this->_sections['minute']['total'];
                 $this->_sections['minute']['index'] += $this->_sections['minute']['step'], $this->_sections['minute']['iteration']++):
$this->_sections['minute']['rownum'] = $this->_sections['minute']['iteration'];
$this->_sections['minute']['index_prev'] = $this->_sections['minute']['index'] - $this->_sections['minute']['step'];
$this->_sections['minute']['index_next'] = $this->_sections['minute']['index'] + $this->_sections['minute']['step'];
$this->_sections['minute']['first']      = ($this->_sections['minute']['iteration'] == 1);
$this->_sections['minute']['last']       = ($this->_sections['minute']['iteration'] == $this->_sections['minute']['total']);
 echo '';  $this->assign('minute', ((is_array($_tmp=$this->_sections['minute']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_minute', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['start_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 2, 2) : substr($_tmp, 2, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['calendar_time_pause'];  echo '<select name="end_hour"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo ' onchange=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchTime24(this.form);\'>';  unset($this->_sections['hour']);
$this->_sections['hour']['name'] = 'hour';
$this->_sections['hour']['loop'] = is_array($_loop=25) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['hour']['start'] = (int)0;
$this->_sections['hour']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['hour']['show'] = true;
$this->_sections['hour']['max'] = $this->_sections['hour']['loop'];
if ($this->_sections['hour']['start'] < 0)
    $this->_sections['hour']['start'] = max($this->_sections['hour']['step'] > 0 ? 0 : -1, $this->_sections['hour']['loop'] + $this->_sections['hour']['start']);
else
    $this->_sections['hour']['start'] = min($this->_sections['hour']['start'], $this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] : $this->_sections['hour']['loop']-1);
if ($this->_sections['hour']['show']) {
    $this->_sections['hour']['total'] = min(ceil(($this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] - $this->_sections['hour']['start'] : $this->_sections['hour']['start']+1)/abs($this->_sections['hour']['step'])), $this->_sections['hour']['max']);
    if ($this->_sections['hour']['total'] == 0)
        $this->_sections['hour']['show'] = false;
} else
    $this->_sections['hour']['total'] = 0;
if ($this->_sections['hour']['show']):

            for ($this->_sections['hour']['index'] = $this->_sections['hour']['start'], $this->_sections['hour']['iteration'] = 1;
                 $this->_sections['hour']['iteration'] <= $this->_sections['hour']['total'];
                 $this->_sections['hour']['index'] += $this->_sections['hour']['step'], $this->_sections['hour']['iteration']++):
$this->_sections['hour']['rownum'] = $this->_sections['hour']['iteration'];
$this->_sections['hour']['index_prev'] = $this->_sections['hour']['index'] - $this->_sections['hour']['step'];
$this->_sections['hour']['index_next'] = $this->_sections['hour']['index'] + $this->_sections['hour']['step'];
$this->_sections['hour']['first']      = ($this->_sections['hour']['iteration'] == 1);
$this->_sections['hour']['last']       = ($this->_sections['hour']['iteration'] == $this->_sections['hour']['total']);
 echo '';  $this->assign('hour', ((is_array($_tmp=$this->_sections['hour']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_hour', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['end_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 0, 2) : substr($_tmp, 0, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>&nbsp;<select name="end_minute"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo '>';  unset($this->_sections['minute']);
$this->_sections['minute']['name'] = 'minute';
$this->_sections['minute']['loop'] = is_array($_loop=60) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['minute']['start'] = (int)0;
$this->_sections['minute']['step'] = ((int)5) == 0 ? 1 : (int)5;
$this->_sections['minute']['show'] = true;
$this->_sections['minute']['max'] = $this->_sections['minute']['loop'];
if ($this->_sections['minute']['start'] < 0)
    $this->_sections['minute']['start'] = max($this->_sections['minute']['step'] > 0 ? 0 : -1, $this->_sections['minute']['loop'] + $this->_sections['minute']['start']);
else
    $this->_sections['minute']['start'] = min($this->_sections['minute']['start'], $this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] : $this->_sections['minute']['loop']-1);
if ($this->_sections['minute']['show']) {
    $this->_sections['minute']['total'] = min(ceil(($this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] - $this->_sections['minute']['start'] : $this->_sections['minute']['start']+1)/abs($this->_sections['minute']['step'])), $this->_sections['minute']['max']);
    if ($this->_sections['minute']['total'] == 0)
        $this->_sections['minute']['show'] = false;
} else
    $this->_sections['minute']['total'] = 0;
if ($this->_sections['minute']['show']):

            for ($this->_sections['minute']['index'] = $this->_sections['minute']['start'], $this->_sections['minute']['iteration'] = 1;
                 $this->_sections['minute']['iteration'] <= $this->_sections['minute']['total'];
                 $this->_sections['minute']['index'] += $this->_sections['minute']['step'], $this->_sections['minute']['iteration']++):
$this->_sections['minute']['rownum'] = $this->_sections['minute']['iteration'];
$this->_sections['minute']['index_prev'] = $this->_sections['minute']['index'] - $this->_sections['minute']['step'];
$this->_sections['minute']['index_next'] = $this->_sections['minute']['index'] + $this->_sections['minute']['step'];
$this->_sections['minute']['first']      = ($this->_sections['minute']['iteration'] == 1);
$this->_sections['minute']['last']       = ($this->_sections['minute']['iteration'] == $this->_sections['minute']['total']);
 echo '';  $this->assign('minute', ((is_array($_tmp=$this->_sections['minute']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_minute', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['end_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 2, 2) : substr($_tmp, 2, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select></td></tr>';  else:  echo '<tr class="row"><th class="nowrap" scope="row"><label for="start_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['calendar_start_time'];  echo '</lable></th><td class="nowrap"><input id="start_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="calendar_start_date" name="start_date" type="text" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['input_start_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" size="13" maxlength="10" /><select name="start_hour"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo '>';  unset($this->_sections['hour']);
$this->_sections['hour']['name'] = 'hour';
$this->_sections['hour']['loop'] = is_array($_loop=24) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['hour']['start'] = (int)0;
$this->_sections['hour']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['hour']['show'] = true;
$this->_sections['hour']['max'] = $this->_sections['hour']['loop'];
if ($this->_sections['hour']['start'] < 0)
    $this->_sections['hour']['start'] = max($this->_sections['hour']['step'] > 0 ? 0 : -1, $this->_sections['hour']['loop'] + $this->_sections['hour']['start']);
else
    $this->_sections['hour']['start'] = min($this->_sections['hour']['start'], $this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] : $this->_sections['hour']['loop']-1);
if ($this->_sections['hour']['show']) {
    $this->_sections['hour']['total'] = min(ceil(($this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] - $this->_sections['hour']['start'] : $this->_sections['hour']['start']+1)/abs($this->_sections['hour']['step'])), $this->_sections['hour']['max']);
    if ($this->_sections['hour']['total'] == 0)
        $this->_sections['hour']['show'] = false;
} else
    $this->_sections['hour']['total'] = 0;
if ($this->_sections['hour']['show']):

            for ($this->_sections['hour']['index'] = $this->_sections['hour']['start'], $this->_sections['hour']['iteration'] = 1;
                 $this->_sections['hour']['iteration'] <= $this->_sections['hour']['total'];
                 $this->_sections['hour']['index'] += $this->_sections['hour']['step'], $this->_sections['hour']['iteration']++):
$this->_sections['hour']['rownum'] = $this->_sections['hour']['iteration'];
$this->_sections['hour']['index_prev'] = $this->_sections['hour']['index'] - $this->_sections['hour']['step'];
$this->_sections['hour']['index_next'] = $this->_sections['hour']['index'] + $this->_sections['hour']['step'];
$this->_sections['hour']['first']      = ($this->_sections['hour']['iteration'] == 1);
$this->_sections['hour']['last']       = ($this->_sections['hour']['iteration'] == $this->_sections['hour']['total']);
 echo '';  $this->assign('hour', ((is_array($_tmp=$this->_sections['hour']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_hour', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['start_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 0, 2) : substr($_tmp, 0, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>&nbsp;<select name="start_minute"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo '>';  unset($this->_sections['minute']);
$this->_sections['minute']['name'] = 'minute';
$this->_sections['minute']['loop'] = is_array($_loop=60) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['minute']['start'] = (int)0;
$this->_sections['minute']['step'] = ((int)5) == 0 ? 1 : (int)5;
$this->_sections['minute']['show'] = true;
$this->_sections['minute']['max'] = $this->_sections['minute']['loop'];
if ($this->_sections['minute']['start'] < 0)
    $this->_sections['minute']['start'] = max($this->_sections['minute']['step'] > 0 ? 0 : -1, $this->_sections['minute']['loop'] + $this->_sections['minute']['start']);
else
    $this->_sections['minute']['start'] = min($this->_sections['minute']['start'], $this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] : $this->_sections['minute']['loop']-1);
if ($this->_sections['minute']['show']) {
    $this->_sections['minute']['total'] = min(ceil(($this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] - $this->_sections['minute']['start'] : $this->_sections['minute']['start']+1)/abs($this->_sections['minute']['step'])), $this->_sections['minute']['max']);
    if ($this->_sections['minute']['total'] == 0)
        $this->_sections['minute']['show'] = false;
} else
    $this->_sections['minute']['total'] = 0;
if ($this->_sections['minute']['show']):

            for ($this->_sections['minute']['index'] = $this->_sections['minute']['start'], $this->_sections['minute']['iteration'] = 1;
                 $this->_sections['minute']['iteration'] <= $this->_sections['minute']['total'];
                 $this->_sections['minute']['index'] += $this->_sections['minute']['step'], $this->_sections['minute']['iteration']++):
$this->_sections['minute']['rownum'] = $this->_sections['minute']['iteration'];
$this->_sections['minute']['index_prev'] = $this->_sections['minute']['index'] - $this->_sections['minute']['step'];
$this->_sections['minute']['index_next'] = $this->_sections['minute']['index'] + $this->_sections['minute']['step'];
$this->_sections['minute']['first']      = ($this->_sections['minute']['iteration'] == 1);
$this->_sections['minute']['last']       = ($this->_sections['minute']['iteration'] == $this->_sections['minute']['total']);
 echo '';  $this->assign('minute', ((is_array($_tmp=$this->_sections['minute']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_minute', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['start_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 2, 2) : substr($_tmp, 2, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>&nbsp;&nbsp;<label for="allday_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="allday_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="allday_flag" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchAllday(this.form);\' />';  echo $this->_tpl_vars['lang']['calendar_allday_flag'];  echo '</label></td></tr><tr class="row"><th class="nowrap" scope="row"><label for="end_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['calendar_end_time'];  echo '</lable></th><td class="nowrap"><input id="end_date';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="calendar_end_date" name="end_date" type="text" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['input_end_date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" size="13" maxlength="10" /><select name="end_hour"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo ' onchange=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchTime24(this.form);\'>';  unset($this->_sections['hour']);
$this->_sections['hour']['name'] = 'hour';
$this->_sections['hour']['loop'] = is_array($_loop=25) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['hour']['start'] = (int)0;
$this->_sections['hour']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['hour']['show'] = true;
$this->_sections['hour']['max'] = $this->_sections['hour']['loop'];
if ($this->_sections['hour']['start'] < 0)
    $this->_sections['hour']['start'] = max($this->_sections['hour']['step'] > 0 ? 0 : -1, $this->_sections['hour']['loop'] + $this->_sections['hour']['start']);
else
    $this->_sections['hour']['start'] = min($this->_sections['hour']['start'], $this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] : $this->_sections['hour']['loop']-1);
if ($this->_sections['hour']['show']) {
    $this->_sections['hour']['total'] = min(ceil(($this->_sections['hour']['step'] > 0 ? $this->_sections['hour']['loop'] - $this->_sections['hour']['start'] : $this->_sections['hour']['start']+1)/abs($this->_sections['hour']['step'])), $this->_sections['hour']['max']);
    if ($this->_sections['hour']['total'] == 0)
        $this->_sections['hour']['show'] = false;
} else
    $this->_sections['hour']['total'] = 0;
if ($this->_sections['hour']['show']):

            for ($this->_sections['hour']['index'] = $this->_sections['hour']['start'], $this->_sections['hour']['iteration'] = 1;
                 $this->_sections['hour']['iteration'] <= $this->_sections['hour']['total'];
                 $this->_sections['hour']['index'] += $this->_sections['hour']['step'], $this->_sections['hour']['iteration']++):
$this->_sections['hour']['rownum'] = $this->_sections['hour']['iteration'];
$this->_sections['hour']['index_prev'] = $this->_sections['hour']['index'] - $this->_sections['hour']['step'];
$this->_sections['hour']['index_next'] = $this->_sections['hour']['index'] + $this->_sections['hour']['step'];
$this->_sections['hour']['first']      = ($this->_sections['hour']['iteration'] == 1);
$this->_sections['hour']['last']       = ($this->_sections['hour']['iteration'] == $this->_sections['hour']['total']);
 echo '';  $this->assign('hour', ((is_array($_tmp=$this->_sections['hour']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_hour', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['end_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 0, 2) : substr($_tmp, 0, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_hour'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['hour'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_hour_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>&nbsp;<select name="end_minute"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['allday_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' disabled="disabled"';  endif;  echo '>';  unset($this->_sections['minute']);
$this->_sections['minute']['name'] = 'minute';
$this->_sections['minute']['loop'] = is_array($_loop=60) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['minute']['start'] = (int)0;
$this->_sections['minute']['step'] = ((int)5) == 0 ? 1 : (int)5;
$this->_sections['minute']['show'] = true;
$this->_sections['minute']['max'] = $this->_sections['minute']['loop'];
if ($this->_sections['minute']['start'] < 0)
    $this->_sections['minute']['start'] = max($this->_sections['minute']['step'] > 0 ? 0 : -1, $this->_sections['minute']['loop'] + $this->_sections['minute']['start']);
else
    $this->_sections['minute']['start'] = min($this->_sections['minute']['start'], $this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] : $this->_sections['minute']['loop']-1);
if ($this->_sections['minute']['show']) {
    $this->_sections['minute']['total'] = min(ceil(($this->_sections['minute']['step'] > 0 ? $this->_sections['minute']['loop'] - $this->_sections['minute']['start'] : $this->_sections['minute']['start']+1)/abs($this->_sections['minute']['step'])), $this->_sections['minute']['max']);
    if ($this->_sections['minute']['total'] == 0)
        $this->_sections['minute']['show'] = false;
} else
    $this->_sections['minute']['total'] = 0;
if ($this->_sections['minute']['show']):

            for ($this->_sections['minute']['index'] = $this->_sections['minute']['start'], $this->_sections['minute']['iteration'] = 1;
                 $this->_sections['minute']['iteration'] <= $this->_sections['minute']['total'];
                 $this->_sections['minute']['index'] += $this->_sections['minute']['step'], $this->_sections['minute']['iteration']++):
$this->_sections['minute']['rownum'] = $this->_sections['minute']['iteration'];
$this->_sections['minute']['index_prev'] = $this->_sections['minute']['index'] - $this->_sections['minute']['step'];
$this->_sections['minute']['index_next'] = $this->_sections['minute']['index'] + $this->_sections['minute']['step'];
$this->_sections['minute']['first']      = ($this->_sections['minute']['iteration'] == 1);
$this->_sections['minute']['last']       = ($this->_sections['minute']['iteration'] == $this->_sections['minute']['total']);
 echo '';  $this->assign('minute', ((is_array($_tmp=$this->_sections['minute']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('plan_minute', ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['end_time'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('substr', true, $_tmp, 2, 2) : substr($_tmp, 2, 2)))) ? $this->_run_mod_handler('intval', true, $_tmp) : intval($_tmp)));  echo '<option value="';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%02d") : smarty_modifier_string_format($_tmp, "%02d"));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['plan_minute'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['minute'])) ? $this->_run_mod_handler('string_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_string_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_minute_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>&nbsp;&nbsp;&nbsp;';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "./calendar_view_timezone.html", 'smarty_include_vars' => array('timezone_offset' => $this->_tpl_vars['action']['calendar_obj']['timezone_offset_key'])));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</td></tr><tr class="row"><th class="nowrap" scope="row"><label for="location';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['calendar_location'];  echo '</lable></th><td class="nowrap"><input id="location';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="text" type="text" name="location" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['location'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /></td></tr><tr class="row"><th class="nowrap" scope="row"><label for="contact';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  echo $this->_tpl_vars['lang']['calendar_contact'];  echo '</lable></th><td class="nowrap"><input id="contact';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="text" type="text" name="contact" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['contact'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" /></td></tr><tr><td colspan="2" class="nowrap"><textarea id="description';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="comptextarea">';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['description'])) ? $this->_run_mod_handler('wysiwig_convert_url', true, $_tmp) : wysiwig_convert_url($_tmp)))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</textarea></td></tr><input type="hidden" name="edit_rrule" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['edit_rrule'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['edit_rrule'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != CALENDAR_PLAN_EDIT_THIS )):  echo '<tr class="row"><td colspan="2" id="_calendar_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="calendar_repeat">';  $this->assign('rrule_arr', ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['rrule_arr'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('freq', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['FREQ'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'NONE' )):  echo '';  $this->assign('display_class', " display-none");  echo '';  else:  echo '';  $this->assign('display_class', "");  echo '';  endif;  echo '';  $this->assign('weekKeyArr', ((is_array($_tmp="|")) ? $this->_run_mod_handler('explode', true, $_tmp, ((is_array($_tmp=@CALENDAR_REPEAT_WDAY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : explode($_tmp, ((is_array($_tmp=@CALENDAR_REPEAT_WDAY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '';  $this->assign('weekValArr', ((is_array($_tmp="|")) ? $this->_run_mod_handler('explode', true, $_tmp, ((is_array($_tmp=@CALENDAR_RRULE_WDAY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : explode($_tmp, ((is_array($_tmp=@CALENDAR_RRULE_WDAY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<div class="_calendar_disp_repeat align-right';  if (( ((is_array($_tmp=$this->_tpl_vars['display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == "" )):  echo ' display-none';  endif;  echo '"><input name="repeat_btn" type="button" value="';  echo $this->_tpl_vars['lang']['calendar_repeat_btn'];  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeatBtn(this);\' /></div><div class="_calendar_disp_repeat hr';  echo ((is_array($_tmp=$this->_tpl_vars['display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"></div><div class="_calendar_disp_repeat calendar_freq';  echo ((is_array($_tmp=$this->_tpl_vars['display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><label for="calendar_not_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_not_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_flag" value="';  echo ((is_array($_tmp=@_OFF)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != "" )):  echo ' checked="checked"';  endif;  echo ' onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"NONE");\' />';  echo $this->_tpl_vars['lang']['calendar_not_repeat'];  echo '</label><br /><label for="calendar_do_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_do_repeat';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_flag" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['display_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == "" )):  echo ' checked="checked"';  endif;  echo ' onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,null);\' />';  echo $this->_tpl_vars['lang']['calendar_do_repeat'];  echo '</label><div class="hr"></div><div class="calendar_r_daily">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['DAILY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="calendar_r_margin"><label for="calendar_repeat_freq_daily';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_repeat_freq_daily';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="DAILY" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"DAILY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'DAILY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['calendar_rrule_freq_daily'];  echo '</label>&nbsp;&nbsp;';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_prefix'];  echo '<select name="rrule_interval[DAILY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=7) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_rrule_interval_day'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_suffix'];  echo '</div></div><div class="hr"></div><div class="calendar_r_weekly">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['WEEKLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="calendar_r_margin"><label for="calendar_repeat_freq_weekly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_repeat_freq_weekly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="WEEKLY" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"WEEKLY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'WEEKLY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['calendar_rrule_freq_weekly'];  echo '</label>&nbsp;&nbsp;';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_prefix'];  echo '<select name="rrule_interval[WEEKLY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=6) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_rrule_interval_week'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_suffix'];  echo '</div><div class="calendar_r_margin">';  $this->assign('rrule_byday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  unset($this->_sections['wday']);
$this->_sections['wday']['name'] = 'wday';
$this->_sections['wday']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['weekKeyArr'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['wday']['show'] = true;
$this->_sections['wday']['max'] = $this->_sections['wday']['loop'];
$this->_sections['wday']['step'] = 1;
$this->_sections['wday']['start'] = $this->_sections['wday']['step'] > 0 ? 0 : $this->_sections['wday']['loop']-1;
if ($this->_sections['wday']['show']) {
    $this->_sections['wday']['total'] = $this->_sections['wday']['loop'];
    if ($this->_sections['wday']['total'] == 0)
        $this->_sections['wday']['show'] = false;
} else
    $this->_sections['wday']['total'] = 0;
if ($this->_sections['wday']['show']):

            for ($this->_sections['wday']['index'] = $this->_sections['wday']['start'], $this->_sections['wday']['iteration'] = 1;
                 $this->_sections['wday']['iteration'] <= $this->_sections['wday']['total'];
                 $this->_sections['wday']['index'] += $this->_sections['wday']['step'], $this->_sections['wday']['iteration']++):
$this->_sections['wday']['rownum'] = $this->_sections['wday']['iteration'];
$this->_sections['wday']['index_prev'] = $this->_sections['wday']['index'] - $this->_sections['wday']['step'];
$this->_sections['wday']['index_next'] = $this->_sections['wday']['index'] + $this->_sections['wday']['step'];
$this->_sections['wday']['first']      = ($this->_sections['wday']['iteration'] == 1);
$this->_sections['wday']['last']       = ($this->_sections['wday']['iteration'] == $this->_sections['wday']['total']);
 echo '';  $this->assign('wKeyDay', ((is_array($_tmp=$this->_tpl_vars['weekKeyArr'][$this->_sections['wday']['index']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('wValDay', ((is_array($_tmp=$this->_tpl_vars['weekValArr'][$this->_sections['wday']['index']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<label for="calendar_rrule_byday_weekly_';  echo ((is_array($_tmp=$this->_tpl_vars['wKeyDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_rrule_byday_weekly_';  echo ((is_array($_tmp=$this->_tpl_vars['wKeyDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="rrule_byday[WEEKLY][]" value="';  echo ((is_array($_tmp=$this->_tpl_vars['wKeyDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( in_array ( ((is_array($_tmp=$this->_tpl_vars['wKeyDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' checked="checked"';  endif;  echo ' />';  echo ((is_array($_tmp=$this->_tpl_vars['wValDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</label>&nbsp;&nbsp;';  endfor; endif;  echo '</div></div><div class="hr"></div><div class="calendar_r_monthly">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['MONTHLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="calendar_r_margin"><label for="calendar_repeat_freq_monthly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_repeat_freq_monthly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="MONTHLY" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"MONTHLY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'MONTHLY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['calendar_rrule_freq_monthly'];  echo '</label>&nbsp;&nbsp;';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_prefix'];  echo '<select name="rrule_interval[MONTHLY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=12) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_rrule_interval_month'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_suffix'];  echo '</div><div class="calendar_r_margin">';  $this->assign('rrule_byday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select name="rrule_byday[MONTHLY][]" onclick="calendarCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchRruleMonthly(this.form);"><option value=""';  if (( count ( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['calendar_rrule_select_wday'];  echo '</option>';  unset($this->_sections['week']);
$this->_sections['week']['name'] = 'week';
$this->_sections['week']['loop'] = is_array($_loop=6) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['week']['start'] = (int)1;
$this->_sections['week']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['week']['show'] = true;
$this->_sections['week']['max'] = $this->_sections['week']['loop'];
if ($this->_sections['week']['start'] < 0)
    $this->_sections['week']['start'] = max($this->_sections['week']['step'] > 0 ? 0 : -1, $this->_sections['week']['loop'] + $this->_sections['week']['start']);
else
    $this->_sections['week']['start'] = min($this->_sections['week']['start'], $this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] : $this->_sections['week']['loop']-1);
if ($this->_sections['week']['show']) {
    $this->_sections['week']['total'] = min(ceil(($this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] - $this->_sections['week']['start'] : $this->_sections['week']['start']+1)/abs($this->_sections['week']['step'])), $this->_sections['week']['max']);
    if ($this->_sections['week']['total'] == 0)
        $this->_sections['week']['show'] = false;
} else
    $this->_sections['week']['total'] = 0;
if ($this->_sections['week']['show']):

            for ($this->_sections['week']['index'] = $this->_sections['week']['start'], $this->_sections['week']['iteration'] = 1;
                 $this->_sections['week']['iteration'] <= $this->_sections['week']['total'];
                 $this->_sections['week']['index'] += $this->_sections['week']['step'], $this->_sections['week']['iteration']++):
$this->_sections['week']['rownum'] = $this->_sections['week']['iteration'];
$this->_sections['week']['index_prev'] = $this->_sections['week']['index'] - $this->_sections['week']['step'];
$this->_sections['week']['index_next'] = $this->_sections['week']['index'] + $this->_sections['week']['step'];
$this->_sections['week']['first']      = ($this->_sections['week']['iteration'] == 1);
$this->_sections['week']['last']       = ($this->_sections['week']['iteration'] == $this->_sections['week']['total']);
 echo '';  unset($this->_sections['wday']);
$this->_sections['wday']['name'] = 'wday';
$this->_sections['wday']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['weekKeyArr'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['wday']['show'] = true;
$this->_sections['wday']['max'] = $this->_sections['wday']['loop'];
$this->_sections['wday']['step'] = 1;
$this->_sections['wday']['start'] = $this->_sections['wday']['step'] > 0 ? 0 : $this->_sections['wday']['loop']-1;
if ($this->_sections['wday']['show']) {
    $this->_sections['wday']['total'] = $this->_sections['wday']['loop'];
    if ($this->_sections['wday']['total'] == 0)
        $this->_sections['wday']['show'] = false;
} else
    $this->_sections['wday']['total'] = 0;
if ($this->_sections['wday']['show']):

            for ($this->_sections['wday']['index'] = $this->_sections['wday']['start'], $this->_sections['wday']['iteration'] = 1;
                 $this->_sections['wday']['iteration'] <= $this->_sections['wday']['total'];
                 $this->_sections['wday']['index'] += $this->_sections['wday']['step'], $this->_sections['wday']['iteration']++):
$this->_sections['wday']['rownum'] = $this->_sections['wday']['iteration'];
$this->_sections['wday']['index_prev'] = $this->_sections['wday']['index'] - $this->_sections['wday']['step'];
$this->_sections['wday']['index_next'] = $this->_sections['wday']['index'] + $this->_sections['wday']['step'];
$this->_sections['wday']['first']      = ($this->_sections['wday']['iteration'] == 1);
$this->_sections['wday']['last']       = ($this->_sections['wday']['iteration'] == $this->_sections['wday']['total']);
 echo '';  $this->assign('wKeyDay', ((is_array($_tmp=$this->_tpl_vars['weekKeyArr'][$this->_sections['wday']['index']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('wValDay', ((is_array($_tmp=$this->_tpl_vars['weekValArr'][$this->_sections['wday']['index']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('week', ((is_array($_tmp=$this->_sections['week']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 1 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_first']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 2 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_second']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 3 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_third']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 4 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_fourth']);  echo '';  else:  echo '';  $this->assign('week', "-1");  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_end']);  echo '';  endif;  echo '';  $this->assign('byday', ($this->_tpl_vars['week']).($this->_tpl_vars['wKeyDay']));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( in_array ( ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['weeknum'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['wValDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option>';  endfor; endif;  echo '';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['calendar_rrule_monthly_pause'];  echo '';  $this->assign('rrule_bymonthday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYMONTHDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select name="rrule_bymonthday[MONTHLY][]" onclick="calendarCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchRruleMonthly(this.form);"><option value=""';  if (( count ( ((is_array($_tmp=$this->_tpl_vars['rrule_bymonthday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['calendar_rrule_select_date'];  echo '</option>';  unset($this->_sections['day']);
$this->_sections['day']['name'] = 'day';
$this->_sections['day']['loop'] = is_array($_loop=32) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['day']['start'] = (int)1;
$this->_sections['day']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['day']['show'] = true;
$this->_sections['day']['max'] = $this->_sections['day']['loop'];
if ($this->_sections['day']['start'] < 0)
    $this->_sections['day']['start'] = max($this->_sections['day']['step'] > 0 ? 0 : -1, $this->_sections['day']['loop'] + $this->_sections['day']['start']);
else
    $this->_sections['day']['start'] = min($this->_sections['day']['start'], $this->_sections['day']['step'] > 0 ? $this->_sections['day']['loop'] : $this->_sections['day']['loop']-1);
if ($this->_sections['day']['show']) {
    $this->_sections['day']['total'] = min(ceil(($this->_sections['day']['step'] > 0 ? $this->_sections['day']['loop'] - $this->_sections['day']['start'] : $this->_sections['day']['start']+1)/abs($this->_sections['day']['step'])), $this->_sections['day']['max']);
    if ($this->_sections['day']['total'] == 0)
        $this->_sections['day']['show'] = false;
} else
    $this->_sections['day']['total'] = 0;
if ($this->_sections['day']['show']):

            for ($this->_sections['day']['index'] = $this->_sections['day']['start'], $this->_sections['day']['iteration'] = 1;
                 $this->_sections['day']['iteration'] <= $this->_sections['day']['total'];
                 $this->_sections['day']['index'] += $this->_sections['day']['step'], $this->_sections['day']['iteration']++):
$this->_sections['day']['rownum'] = $this->_sections['day']['iteration'];
$this->_sections['day']['index_prev'] = $this->_sections['day']['index'] - $this->_sections['day']['step'];
$this->_sections['day']['index_next'] = $this->_sections['day']['index'] + $this->_sections['day']['step'];
$this->_sections['day']['first']      = ($this->_sections['day']['iteration'] == 1);
$this->_sections['day']['last']       = ($this->_sections['day']['iteration'] == $this->_sections['day']['total']);
 echo '';  $this->assign('day', ((is_array($_tmp=$this->_sections['day']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( in_array ( ((is_array($_tmp=$this->_tpl_vars['day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_bymonthday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_rrule_input_day'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ($this->_tpl_vars['day'])) : sprintf($_tmp, ($this->_tpl_vars['day'])));  echo '</option>';  endfor; endif;  echo '</select></div></div><div class="hr"></div><div class="calendar_r_yearly">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['YEARLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<div class="calendar_r_margin"><label for="calendar_repeat_freq_yearly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_repeat_freq_yearly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="radio" name="repeat_freq" value="YEARLY" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRepeat(this.form,"YEARLY");\'';  if (( ((is_array($_tmp=$this->_tpl_vars['freq'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 'YEARLY' )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['calendar_rrule_freq_yearly'];  echo '</label>&nbsp;&nbsp;';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_prefix'];  echo '<select name="rrule_interval[YEARLY]">';  unset($this->_sections['interval']);
$this->_sections['interval']['name'] = 'interval';
$this->_sections['interval']['loop'] = is_array($_loop=13) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['interval']['start'] = (int)1;
$this->_sections['interval']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['interval']['show'] = true;
$this->_sections['interval']['max'] = $this->_sections['interval']['loop'];
if ($this->_sections['interval']['start'] < 0)
    $this->_sections['interval']['start'] = max($this->_sections['interval']['step'] > 0 ? 0 : -1, $this->_sections['interval']['loop'] + $this->_sections['interval']['start']);
else
    $this->_sections['interval']['start'] = min($this->_sections['interval']['start'], $this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] : $this->_sections['interval']['loop']-1);
if ($this->_sections['interval']['show']) {
    $this->_sections['interval']['total'] = min(ceil(($this->_sections['interval']['step'] > 0 ? $this->_sections['interval']['loop'] - $this->_sections['interval']['start'] : $this->_sections['interval']['start']+1)/abs($this->_sections['interval']['step'])), $this->_sections['interval']['max']);
    if ($this->_sections['interval']['total'] == 0)
        $this->_sections['interval']['show'] = false;
} else
    $this->_sections['interval']['total'] = 0;
if ($this->_sections['interval']['show']):

            for ($this->_sections['interval']['index'] = $this->_sections['interval']['start'], $this->_sections['interval']['iteration'] = 1;
                 $this->_sections['interval']['iteration'] <= $this->_sections['interval']['total'];
                 $this->_sections['interval']['index'] += $this->_sections['interval']['step'], $this->_sections['interval']['iteration']++):
$this->_sections['interval']['rownum'] = $this->_sections['interval']['iteration'];
$this->_sections['interval']['index_prev'] = $this->_sections['interval']['index'] - $this->_sections['interval']['step'];
$this->_sections['interval']['index_next'] = $this->_sections['interval']['index'] + $this->_sections['interval']['step'];
$this->_sections['interval']['first']      = ($this->_sections['interval']['iteration'] == 1);
$this->_sections['interval']['last']       = ($this->_sections['interval']['iteration'] == $this->_sections['interval']['total']);
 echo '';  $this->assign('interval', ((is_array($_tmp=$this->_sections['interval']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['rrule']['INTERVAL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_rrule_interval_year'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['interval'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</option>';  endfor; endif;  echo '</select>';  echo $this->_tpl_vars['lang']['calendar_rrule_interval_suffix'];  echo '</div><div class="calendar_r_margin">';  $this->assign('rrule_bydmonth', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYMONTH'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  unset($this->_sections['bymonth']);
$this->_sections['bymonth']['name'] = 'bymonth';
$this->_sections['bymonth']['loop'] = is_array($_loop=13) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['bymonth']['start'] = (int)1;
$this->_sections['bymonth']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['bymonth']['show'] = true;
$this->_sections['bymonth']['max'] = $this->_sections['bymonth']['loop'];
if ($this->_sections['bymonth']['start'] < 0)
    $this->_sections['bymonth']['start'] = max($this->_sections['bymonth']['step'] > 0 ? 0 : -1, $this->_sections['bymonth']['loop'] + $this->_sections['bymonth']['start']);
else
    $this->_sections['bymonth']['start'] = min($this->_sections['bymonth']['start'], $this->_sections['bymonth']['step'] > 0 ? $this->_sections['bymonth']['loop'] : $this->_sections['bymonth']['loop']-1);
if ($this->_sections['bymonth']['show']) {
    $this->_sections['bymonth']['total'] = min(ceil(($this->_sections['bymonth']['step'] > 0 ? $this->_sections['bymonth']['loop'] - $this->_sections['bymonth']['start'] : $this->_sections['bymonth']['start']+1)/abs($this->_sections['bymonth']['step'])), $this->_sections['bymonth']['max']);
    if ($this->_sections['bymonth']['total'] == 0)
        $this->_sections['bymonth']['show'] = false;
} else
    $this->_sections['bymonth']['total'] = 0;
if ($this->_sections['bymonth']['show']):

            for ($this->_sections['bymonth']['index'] = $this->_sections['bymonth']['start'], $this->_sections['bymonth']['iteration'] = 1;
                 $this->_sections['bymonth']['iteration'] <= $this->_sections['bymonth']['total'];
                 $this->_sections['bymonth']['index'] += $this->_sections['bymonth']['step'], $this->_sections['bymonth']['iteration']++):
$this->_sections['bymonth']['rownum'] = $this->_sections['bymonth']['iteration'];
$this->_sections['bymonth']['index_prev'] = $this->_sections['bymonth']['index'] - $this->_sections['bymonth']['step'];
$this->_sections['bymonth']['index_next'] = $this->_sections['bymonth']['index'] + $this->_sections['bymonth']['step'];
$this->_sections['bymonth']['first']      = ($this->_sections['bymonth']['iteration'] == 1);
$this->_sections['bymonth']['last']       = ($this->_sections['bymonth']['iteration'] == $this->_sections['bymonth']['total']);
 echo '';  $this->assign('month', ((is_array($_tmp=((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('string_format', true, $_tmp, "%d") : smarty_modifier_string_format($_tmp, "%d")));  echo '<label for="calendar_repeat_bymonth_yearly_';  echo ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_repeat_bymonth_yearly_';  echo ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type="checkbox" name="rrule_bymonth[YEARLY][]" value="';  echo ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( in_array ( ((is_array($_tmp=$this->_tpl_vars['month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_bydmonth'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' checked="checked"';  endif;  echo ' />';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_rrule_month'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</label>&nbsp;&nbsp;';  if (( ((is_array($_tmp=$this->_sections['bymonth']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 6 )):  echo '<br />';  endif;  echo '';  endfor; endif;  echo '</div><div class="calendar_r_margin">';  $this->assign('rrule_byday', ((is_array($_tmp=$this->_tpl_vars['rrule']['BYDAY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<select name="rrule_byday[YEARLY][]"><option value=""';  if (( count ( ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) == 0 )):  echo ' selected="selected"';  endif;  echo '>';  echo $this->_tpl_vars['lang']['calendar_rrule_startdate'];  echo '</option>';  unset($this->_sections['week']);
$this->_sections['week']['name'] = 'week';
$this->_sections['week']['loop'] = is_array($_loop=6) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['week']['start'] = (int)1;
$this->_sections['week']['step'] = ((int)1) == 0 ? 1 : (int)1;
$this->_sections['week']['show'] = true;
$this->_sections['week']['max'] = $this->_sections['week']['loop'];
if ($this->_sections['week']['start'] < 0)
    $this->_sections['week']['start'] = max($this->_sections['week']['step'] > 0 ? 0 : -1, $this->_sections['week']['loop'] + $this->_sections['week']['start']);
else
    $this->_sections['week']['start'] = min($this->_sections['week']['start'], $this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] : $this->_sections['week']['loop']-1);
if ($this->_sections['week']['show']) {
    $this->_sections['week']['total'] = min(ceil(($this->_sections['week']['step'] > 0 ? $this->_sections['week']['loop'] - $this->_sections['week']['start'] : $this->_sections['week']['start']+1)/abs($this->_sections['week']['step'])), $this->_sections['week']['max']);
    if ($this->_sections['week']['total'] == 0)
        $this->_sections['week']['show'] = false;
} else
    $this->_sections['week']['total'] = 0;
if ($this->_sections['week']['show']):

            for ($this->_sections['week']['index'] = $this->_sections['week']['start'], $this->_sections['week']['iteration'] = 1;
                 $this->_sections['week']['iteration'] <= $this->_sections['week']['total'];
                 $this->_sections['week']['index'] += $this->_sections['week']['step'], $this->_sections['week']['iteration']++):
$this->_sections['week']['rownum'] = $this->_sections['week']['iteration'];
$this->_sections['week']['index_prev'] = $this->_sections['week']['index'] - $this->_sections['week']['step'];
$this->_sections['week']['index_next'] = $this->_sections['week']['index'] + $this->_sections['week']['step'];
$this->_sections['week']['first']      = ($this->_sections['week']['iteration'] == 1);
$this->_sections['week']['last']       = ($this->_sections['week']['iteration'] == $this->_sections['week']['total']);
 echo '';  unset($this->_sections['wday']);
$this->_sections['wday']['name'] = 'wday';
$this->_sections['wday']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['weekKeyArr'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['wday']['show'] = true;
$this->_sections['wday']['max'] = $this->_sections['wday']['loop'];
$this->_sections['wday']['step'] = 1;
$this->_sections['wday']['start'] = $this->_sections['wday']['step'] > 0 ? 0 : $this->_sections['wday']['loop']-1;
if ($this->_sections['wday']['show']) {
    $this->_sections['wday']['total'] = $this->_sections['wday']['loop'];
    if ($this->_sections['wday']['total'] == 0)
        $this->_sections['wday']['show'] = false;
} else
    $this->_sections['wday']['total'] = 0;
if ($this->_sections['wday']['show']):

            for ($this->_sections['wday']['index'] = $this->_sections['wday']['start'], $this->_sections['wday']['iteration'] = 1;
                 $this->_sections['wday']['iteration'] <= $this->_sections['wday']['total'];
                 $this->_sections['wday']['index'] += $this->_sections['wday']['step'], $this->_sections['wday']['iteration']++):
$this->_sections['wday']['rownum'] = $this->_sections['wday']['iteration'];
$this->_sections['wday']['index_prev'] = $this->_sections['wday']['index'] - $this->_sections['wday']['step'];
$this->_sections['wday']['index_next'] = $this->_sections['wday']['index'] + $this->_sections['wday']['step'];
$this->_sections['wday']['first']      = ($this->_sections['wday']['iteration'] == 1);
$this->_sections['wday']['last']       = ($this->_sections['wday']['iteration'] == $this->_sections['wday']['total']);
 echo '';  $this->assign('wKeyDay', ((is_array($_tmp=$this->_tpl_vars['weekKeyArr'][$this->_sections['wday']['index']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('wValDay', ((is_array($_tmp=$this->_tpl_vars['weekValArr'][$this->_sections['wday']['index']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('week', ((is_array($_tmp=$this->_sections['week']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 1 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_first']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 2 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_second']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 3 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_third']);  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 4 )):  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_fourth']);  echo '';  else:  echo '';  $this->assign('week', "-1");  echo '';  $this->assign('weeknum', $this->_tpl_vars['lang']['calendar_rrule_week_end']);  echo '';  endif;  echo '';  $this->assign('byday', ($this->_tpl_vars['week']).($this->_tpl_vars['wKeyDay']));  echo '<option value="';  echo ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( in_array ( ((is_array($_tmp=$this->_tpl_vars['byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) , ((is_array($_tmp=$this->_tpl_vars['rrule_byday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) ) )):  echo ' selected="selected"';  endif;  echo '>';  echo ((is_array($_tmp=$this->_tpl_vars['weeknum'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['wValDay'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</option>';  endfor; endif;  echo '';  endfor; endif;  echo '</select></div></div><div class="hr"></div><div class="calendar_terminator"><div class="calendar_r_margin">';  $this->assign('rrule', ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['YEARLY'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '<label for=\'calendar_rrule_term_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'><input id=\'calendar_rrule_term_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\' type=\'radio\' name="rrule_term" value=\'COUNT\'';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['REPEAT_COUNT'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' onclick="calendarCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchTerm(this.form);commonCls.focus(this.form.rrule_count);" />';  echo $this->_tpl_vars['lang']['calendar_rrule_term_count'];  echo '</label><label for="calendar_rrule_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_rrule_count';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" type=\'text\' name="rrule_count" size="3" maxlength="3" value="';  echo ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['COUNT'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  echo $this->_tpl_vars['lang']['calendar_rrule_count'];  echo '</label></div><div class="calendar_r_margin"><label for=\'calendar_rrule_term_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'><input id=\'calendar_rrule_term_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\' type=\'radio\' name="rrule_term" value=\'UNTIL\'';  if (( ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['REPEAT_UNTIL'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' onclick="calendarCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].switchTerm(this.form); commonCls.focus(this.form.rrule_until);" />';  echo $this->_tpl_vars['lang']['calendar_rrule_term_until'];  echo '</label><label for="calendar_rrule_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><input id="calendar_rrule_until';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" name="rrule_until" class="rrule_until" type="text" value="';  echo ((is_array($_tmp=$this->_tpl_vars['rrule_arr']['UNTIL_VIEW'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" size="13" maxlength="10" /></label></div></div><div class="hr"></div></div></td></tr>';  endif;  echo '';  endif;  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_block']['mail_send'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo '<tr class="row"><td colspan="2" class="nowrap"><label for="';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '_notification_mail"><input id="';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '_notification_mail" type="checkbox" name="notification_mail" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['notification_mail'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo ' checked="checked"';  endif;  echo ' />';  echo $this->_tpl_vars['lang']['calendar_notification_mail'];  echo '</label></td></tr>';  endif;  echo '</table><div class="btn-bottom">';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['plan_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 0 )):  echo '<input class="btn-width" name="regist" type="button" value="';  echo $this->_tpl_vars['lang']['_regist'];  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].addPlan(this.form); return false;\' />&nbsp;<input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_cancel'];  echo '" onclick=\'commonCls.removeBlock("';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\' />';  else:  echo '<input class="btn-width" name="regist" type="button" value="';  echo $this->_tpl_vars['lang']['_regist'];  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].modifyPlan(this.form); return false;\' />&nbsp;<input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_cancel'];  echo '" onclick=\'commonCls.removeBlock("';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\' />';  endif;  echo '</div>';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['details_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != _ON )):  echo '<div class="btn-bottom align-right"><a id="calendar_addplan_details_link';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].showAddPlan(event,"';  echo ((is_array($_tmp=$this->_tpl_vars['action']['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '",null,';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '); return false;\'>';  echo $this->_tpl_vars['lang']['calendar_details_addplan'];  echo '</a><span class="disable_lbl display-none">';  echo $this->_tpl_vars['lang']['calendar_details_addplan'];  echo '</span></div><input type="hidden" name="details_flag" value="';  echo ((is_array($_tmp=@_OFF)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  else:  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['plan_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) > 0 )):  echo '<input type="hidden" name="calendar_id" value="';  echo ((is_array($_tmp=$this->_tpl_vars['action']['calendar_obj']['calendar_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  endif;  echo '<input type="hidden" name="details_flag" value="';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" />';  endif;  echo '</form></div>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../calendar_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<script class="nc_script" type="text/javascript">calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].initModifyPlan(';  echo ((is_array($_tmp=$this->_tpl_vars['action']['details_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].setAddPlanRoom($("plan_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['edit_rrule'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != CALENDAR_PLAN_EDIT_THIS && ((is_array($_tmp=$this->_tpl_vars['action']['details_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo 'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].initRepeat();';  endif;  echo 'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchTime24($("calendar_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].switchRoom($("plan_flag';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));commonCls.focus("';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");</script>'; ?>
