<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:33
         compiled from linklist_view_main_entry.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'linklist_view_main_entry.html', 5, false),array('modifier', 'get_themes_image', 'linklist_view_main_entry.html', 31, false),array('modifier', 'sprintf', 'linklist_view_main_entry.html', 83, false),)), $this); ?>
<?php echo '';  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "linklist_view_main_head.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<form id="linklist_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="linklist_entry" action="#">';  $_from = ((is_array($_tmp=$this->_tpl_vars['action']['categoryLinks'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')); if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }$this->_foreach['categoryLink'] = array('total' => count($_from), 'iteration' => 0);
if ($this->_foreach['categoryLink']['total'] > 0):
    foreach ($_from as $this->_tpl_vars['categoryLink']):
        $this->_foreach['categoryLink']['iteration']++;
 echo '<div id="linklist_category_link';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"><table class="linklist_category" summary="';  echo $this->_tpl_vars['lang']['linklist_category_summary'];  echo '"><tr>';  if (((is_array($_tmp=$this->_tpl_vars['action']['linklist']['category_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<td class="comp_draganddrop linklist_draganddrop"></td>';  endif;  echo '<td class="linklist_category_name">';  if (((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 0):  echo '';  echo $this->_tpl_vars['lang']['linklist_category_none'];  echo '';  elseif (((is_array($_tmp=$this->_tpl_vars['categoryLink']['edit_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<a class="link display-block" href="#" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].showInputElement(this);return false;" onfocus="this.onmouseover(event);" onmouseover="commonCls.blockNotice(event, this);">';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</a><input class="linklist_category_name display-none" type="text" name="category_name" value="';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onkeypress="if (event.keyCode == 13) this.blur();" onblur="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].enterCategory(this, ';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');" />';  else:  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_name'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  endif;  echo '</td><td class="linklist_delete_category">';  if (((is_array($_tmp=$this->_tpl_vars['categoryLink']['delete_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<a href="#" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].deleleCategory(';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ', \'';  echo ((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['linklist_category_delete_confirm'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript')))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\');return false;"><img class="icon" src="';  echo ((is_array($_tmp="trash.gif")) ? $this->_run_mod_handler('get_themes_image', true, $_tmp) : get_themes_image($_tmp));  echo '" alt="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['linklist_delete_category'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" title="';  echo $this->_tpl_vars['lang']['linklist_delete_category'];  echo '" /></a>';  endif;  echo '</td></tr></table><table id="linklist_link_list';  echo ((is_array($_tmp=$this->_tpl_vars['categoryLink']['category_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="linklist_link" summary="';  echo $this->_tpl_vars['lang']['linklist_link_summary'];  echo '">';  $_from = $this->_tpl_vars['categoryLink']['links']; if (!is_array($_from) && !is_object($_from)) { settype($_from, 'array'); }if (count($_from)):
    foreach ($_from as $this->_tpl_vars['link']):
 echo '<tr id="linklist_link';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '">';  if (((is_array($_tmp=$this->_tpl_vars['action']['linklist']['link_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<td class="comp_draganddrop linklist_draganddrop"></td>';  endif;  echo '<td>';  if (((is_array($_tmp=$this->_tpl_vars['link']['edit_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<a class="link display-block" href="#" title="';  echo $this->_tpl_vars['lang']['linklist_title_edit_title'];  echo '" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].showInputElement(this);return false;" onfocus="this.onmouseover(event);" onmouseover="commonCls.blockNotice(event, this);">';  echo ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</a><input class="linklist_title display-block display-none" type="text" name="title" value="';  echo ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onkeypress="if (event.keyCode == 13) this.blur();" onblur="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].enterLink(this, ';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');" /><a class="link display-block" href="#" title="';  echo $this->_tpl_vars['lang']['linklist_url_edit_title'];  echo '" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].showInputElement(this);return false;" onfocus="this.onmouseover(event);" onmouseover="commonCls.blockNotice(event, this);">';  echo ((is_array($_tmp=$this->_tpl_vars['link']['url'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</a><input class="linklist_url display-block display-none" type="text" name="url" value="';  echo ((is_array($_tmp=$this->_tpl_vars['link']['url'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onkeypress="if (event.keyCode == 13) this.blur();" onblur="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].enterLink(this, ';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');" /><br /><a class="link display-block" href="#" title="';  echo $this->_tpl_vars['lang']['linklist_description_edit_title'];  echo '" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].showInputElement(this);return false;" onfocus="this.onmouseover(event);" onmouseover="commonCls.blockNotice(event, this);">';  if (((is_array($_tmp=$this->_tpl_vars['link']['description'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != ""):  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['link']['description'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  else:  echo '';  echo $this->_tpl_vars['lang']['linklist_no_description'];  echo '';  endif;  echo '</a><div class="display-none"><textarea id="linklist_description';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="linklist_description" name="description">';  echo ((is_array($_tmp=$this->_tpl_vars['link']['description'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</textarea><div class="btn-bottom"><input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_regist'];  echo '" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].enterLink($(\'linklist_description';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'), ';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');" /><input class="btn-width" type="button" value="';  echo $this->_tpl_vars['lang']['_cancel'];  echo '" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].hideInputElement(this.parentNode.parentNode);" /></div></div>';  else:  echo '';  echo ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '<br />';  echo ((is_array($_tmp=$this->_tpl_vars['link']['url'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '<br />';  echo ((is_array($_tmp=$this->_tpl_vars['link']['description'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '';  endif;  echo '</td><td class="linklist_delete_category">';  if (((is_array($_tmp=$this->_tpl_vars['link']['edit_authority'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))):  echo '<a href="#" title="';  echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['linklist_delete_link'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))))) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript')))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" onclick="linklistCls[\'';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\'].deleleLink(';  echo ((is_array($_tmp=$this->_tpl_vars['link']['link_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ', \'';  echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['_del_confirm'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))))) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript')))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '\');return false;"><img class="icon" src="';  echo ((is_array($_tmp="trash.gif")) ? $this->_run_mod_handler('get_themes_image', true, $_tmp) : get_themes_image($_tmp));  echo '" alt="';  echo ((is_array($_tmp=((is_array($_tmp=((is_array($_tmp=$this->_tpl_vars['lang']['linklist_delete_link'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['link']['title'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))))) ? $this->_run_mod_handler('escape', true, $_tmp, 'javascript') : smarty_modifier_escape($_tmp, 'javascript')))) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" title="" /></a>';  endif;  echo '</td></tr>';  endforeach; endif; unset($_from);  echo '</table></div>';  endforeach; endif; unset($_from);  echo '</form>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../linklist_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<script class="nc_script" type="text/javascript">linklistCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].entry = "';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '";draggable = Class.create();draggable.prototype = Object.extend((new compDraggable), {prestartDrag: function(){var id = this.htmlElement.id;var categoryID = id.match(/\\d+/)[0];var target = $("linklist_link_list" + categoryID + "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");if (target) {Element.addClassName(target, "display-none");}}});dropZone = Class.create();dropZone.prototype = Object.extend((new compDropzone), {showHover: function(event) {if (this.htmlElement.parentNode.id.match("linklist_category_link")) {if (this._showHover(this.getHTMLElement())) {return;}this.showChgSeqHoverInside(event);} else {this.showChgSeqHover(event);}},hideHover: function(event) {this.hideChgSeqHover(event);},accept: function(draggableObjects) {this.acceptChgSeq(draggableObjects);var drag = draggableObjects[0].getHTMLElement();var id = drag.id;var categoryID = id.match(/\\d+/)[0];var target = $("linklist_link_list" + categoryID + "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");if (target) {Element.removeClassName(drag.childNodes[1], "display-none");}},save: function(draggableObjects) {if(this.ChgSeqPosition == null) {return false;}var drag = draggableObjects[0].getHTMLElement();var drop = this.getHTMLElement();if (drop.tagName == "TABLE") {drop = drop.parentNode;}var id = this.getParams();linklistCls[id].changeSequence(drag.id, drop.id, this.ChgSeqPosition);return true;}});var dragArea = $("linklist_form';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '");dragDropCategory = new compDragAndDrop();dragDropCategory.registerDraggableRange(dragArea);dragDropLink = new compDragAndDrop();dragDropLink.registerDraggableRange(dragArea);var categories = dragArea.childNodes;for (var i = 0; i < categories.length; i++) {var drag = categories[i].firstChild.firstChild.firstChild.firstChild;if (Element.hasClassName(drag, "comp_draganddrop")) {dragDropCategory.registerDraggable(new draggable(categories[i], drag));}dragDropCategory.registerDropZone(new dropZone(categories[i], "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));dragDropLink.registerDropZone(new dropZone(categories[i].firstChild, "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));var linkTable = categories[i].childNodes[1];if (linkTable == null) {continue;}var rows = linkTable.getElementsByTagName("tr");for (var j = 0; j < rows.length; j++) {var drag = rows[j].firstChild;if (Element.hasClassName(drag, "comp_draganddrop")) {dragDropLink.registerDraggable(new compDraggable(rows[j], drag));}dragDropLink.registerDropZone(new dropZone(rows[j], "';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));}}draggable = null;dropZone = null;dragArea = null;dragDropCategory = null;dragDropLink = null;categories = null;linkTable = null;rows = null;drag = null;</script>'; ?>