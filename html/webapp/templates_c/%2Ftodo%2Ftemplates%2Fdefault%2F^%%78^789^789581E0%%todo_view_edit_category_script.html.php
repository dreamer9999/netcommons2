<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:38
         compiled from todo_view_edit_category_script.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'escape', 'todo_view_edit_category_script.html', 4, false),)), $this); ?>
<?php echo '<script class="nc_script" type="text/javascript">todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].draggable = Class.create();todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].draggable.prototype = Object.extend((new compDraggable), {cancelDrag: function() {Element.setStyle(this.htmlElement, {opacity:""});}});todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dropZone = Class.create();todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dropZone.prototype = Object.extend((new compDropzone), {showHover: function(event) {var params = this.getParams();var htmlElement = this.getHTMLElement();if (this._showHover(htmlElement)) {return;}this.showChgSeqHover(event);},hideHover: function(event) {this.hideChgSeqHover(event);},accept: function(draggableObjects) {this.acceptChgSeq(draggableObjects);var drag_el = draggableObjects[0].getHTMLElement();commonCls.blockNotice(null, drag_el);},save: function(draggableObjects) {if(this.ChgSeqPosition == null) {return false;}var htmlElement = this.getHTMLElement();var params = this.getParams();var l_todoCls = params[0];var d_top_el = $(l_todoCls.id);var drag_el = draggableObjects[0].getHTMLElement();var drag_category_id = drag_el.className.match(/todo_category_id([0-9]+)/i)[1];var drop_category_id = htmlElement.className.match(/todo_category_id([0-9]+)/i)[1];var params_str = {"action": "todo_action_edit_category_sequence","position": this.ChgSeqPosition,"todo_id": "';  echo ((is_array($_tmp=$this->_tpl_vars['action']['todo_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '","drag_category_id": drag_category_id,"drop_category_id": drop_category_id};commonCls.sendPost(l_todoCls.id, params_str);return true;}});todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].cmpDragDrop = new compDragAndDrop();todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].cmpDragDrop.registerDraggableRange($("todo_dragarea';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"));var fields = Element.getElementsByClassName($("todo_dragarea';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"), "todo_drag_drop");fields.each(function(field_el) {todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].cmpDragDrop.registerDropZone(new todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].dropZone(field_el,{0:todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"]}));var move_el = Element.getChildElementByClassName(field_el, "comp_draganddrop");todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].cmpDragDrop.registerDraggable(new todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].draggable(field_el, move_el, todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"]));var move_el = Element.getChildElementByClassName(field_el, "todo_draggable");todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].cmpDragDrop.registerDraggable(new todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].draggable(field_el, move_el, todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"]));}.bind(todoCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"]));var fields = null;</script>'; ?>