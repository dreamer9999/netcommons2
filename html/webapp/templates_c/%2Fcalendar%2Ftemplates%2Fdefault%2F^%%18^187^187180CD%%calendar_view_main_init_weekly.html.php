<?php /* Smarty version 2.6.12, created on 2013-07-11 09:01:32
         compiled from calendar_view_main_init_weekly.html */ ?>
<?php require_once(SMARTY_CORE_DIR . 'core.load_plugins.php');
smarty_core_load_plugins(array('plugins' => array(array('modifier', 'date_format', 'calendar_view_main_init_weekly.html', 2, false),array('modifier', 'escape', 'calendar_view_main_init_weekly.html', 2, false),array('modifier', 'get_modules_image', 'calendar_view_main_init_weekly.html', 10, false),array('modifier', 'sprintf', 'calendar_view_main_init_weekly.html', 14, false),array('modifier', 'explode', 'calendar_view_main_init_weekly.html', 72, false),array('modifier', 'date', 'calendar_view_main_init_weekly.html', 81, false),array('modifier', 'get_themes_image', 'calendar_view_main_init_weekly.html', 105, false),)), $this); ?>
<?php echo '';  $this->assign('year_string', ((is_array($_tmp=$this->_tpl_vars['action']['current_timestamp'])) ? $this->_run_mod_handler('date_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_year_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_date_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_year_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '';  $this->assign('month_string', ((is_array($_tmp=$this->_tpl_vars['action']['current_timestamp'])) ? $this->_run_mod_handler('date_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_month_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_date_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_month_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '<div class="calendar_weekly"><table class="calendar_head" summary=""><tr><td class="calendar_prev_year"><a class="link hover_highlight" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['prev_year'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'><img class="icon" src="';  echo ((is_array($_tmp="prev.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_prev_year'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_prev_year'];  echo '" /></a></td><td class="calendar_this_year"><a class="link" href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_ref_title_year'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['year_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['year_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['this_year'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", "';  echo ((is_array($_tmp=@CALENDAR_YEARLY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\'>';  echo ((is_array($_tmp=$this->_tpl_vars['action']['current_timestamp'])) ? $this->_run_mod_handler('date_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_year_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_date_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_year_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '</a></td><td class="calendar_next_year"><a class="link hover_highlight" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['next_year'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'><img class="icon" src="';  echo ((is_array($_tmp="next.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_next_year'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_next_year'];  echo '" /></a></td></tr><tr><td class="calendar_prev_month"><a class="link" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['prev_month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\' onmouseover=\'if (typeof calendarCls == "undefined" || typeof calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"] == "undefined") { return false; } calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].onmouseImage(this, "prev2", ';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');\' onmouseout=\'if (typeof calendarCls == "undefined" || typeof calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"] == "undefined") { return false; } calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].onmouseImage(this, "prev2", ';  echo ((is_array($_tmp=@_OFF)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');\'><img class="icon" src="';  echo ((is_array($_tmp="prev2.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_prev_month'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_prev_month'];  echo '" /></a></td><td class="calendar_this_month"><a class="link" href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_ref_title_month'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['year_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['month_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['year_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['month_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['this_month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", "';  echo ((is_array($_tmp=@CALENDAR_L_MONTHLY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\'>';  echo ((is_array($_tmp=$this->_tpl_vars['month_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</a></td><td class="calendar_next_month"><a class="link" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['next_month'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\' onmouseover=\'if (typeof calendarCls == "undefined" || typeof calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"] == "undefined") { return false; } calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].onmouseImage(this, "next2", ';  echo ((is_array($_tmp=@_ON)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');\' onmouseout=\'if (typeof calendarCls == "undefined" || typeof calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"] == "undefined") { return false; } calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].onmouseImage(this, "next2", ';  echo ((is_array($_tmp=@_OFF)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ');\'><img class="icon" src="';  echo ((is_array($_tmp="next2.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_next_month'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_next_month'];  echo '" /></a></td></tr><tr><td colspan="3" class="align-right print_preview_none"><a class="link hover_highlight" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['prev_week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'><img class="icon" src="';  echo ((is_array($_tmp="prev3.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_prev_week'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_prev_week'];  echo '" /></a><a class="link hover_highlight" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['prev_day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'><img class="icon" src="';  echo ((is_array($_tmp="prev.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_prev_day'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_prev_day'];  echo '" /></a>';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == ((is_array($_tmp=$this->_tpl_vars['action']['today'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '<span class="highlight">';  echo $this->_tpl_vars['lang']['calendar_today'];  echo '</span>';  else:  echo '<a class="link" href="#" title="';  echo $this->_tpl_vars['lang']['_show_today'];  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['today'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'>';  echo $this->_tpl_vars['lang']['calendar_move_today'];  echo '</a>';  endif;  echo '<a class="link hover_highlight" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['next_day'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'><img class="icon" src="';  echo ((is_array($_tmp="next.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_next_day'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_next_day'];  echo '" /></a><a class="link hover_highlight" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['next_week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", null); return false;\'><img class="icon" src="';  echo ((is_array($_tmp="next3.gif")) ? $this->_run_mod_handler('get_modules_image', true, $_tmp) : get_modules_image($_tmp));  echo '" alt="';  echo $this->_tpl_vars['lang']['calendar_alt_next_week'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_title_next_week'];  echo '" /></a></td></tr></table><table id="_calendar_weekly';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '" class="outer calendar_body" summary="';  echo $this->_tpl_vars['lang']['calendar_summary'];  echo '"><tr class="row"><td>&nbsp;</td>';  $this->assign('weekArr', ((is_array($_tmp="|")) ? $this->_run_mod_handler('explode', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : explode($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_week'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '';  unset($this->_sections['timestamp']);
$this->_sections['timestamp']['name'] = 'timestamp';
$this->_sections['timestamp']['loop'] = is_array($_loop=((is_array($_tmp=$this->_tpl_vars['action']['end_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) ? count($_loop) : max(0, (int)$_loop); unset($_loop);
$this->_sections['timestamp']['start'] = (int)((is_array($_tmp=$this->_tpl_vars['action']['start_timestamp'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));
$this->_sections['timestamp']['step'] = ((int)86400) == 0 ? 1 : (int)86400;
$this->_sections['timestamp']['show'] = true;
$this->_sections['timestamp']['max'] = $this->_sections['timestamp']['loop'];
if ($this->_sections['timestamp']['start'] < 0)
    $this->_sections['timestamp']['start'] = max($this->_sections['timestamp']['step'] > 0 ? 0 : -1, $this->_sections['timestamp']['loop'] + $this->_sections['timestamp']['start']);
else
    $this->_sections['timestamp']['start'] = min($this->_sections['timestamp']['start'], $this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] : $this->_sections['timestamp']['loop']-1);
if ($this->_sections['timestamp']['show']) {
    $this->_sections['timestamp']['total'] = min(ceil(($this->_sections['timestamp']['step'] > 0 ? $this->_sections['timestamp']['loop'] - $this->_sections['timestamp']['start'] : $this->_sections['timestamp']['start']+1)/abs($this->_sections['timestamp']['step'])), $this->_sections['timestamp']['max']);
    if ($this->_sections['timestamp']['total'] == 0)
        $this->_sections['timestamp']['show'] = false;
} else
    $this->_sections['timestamp']['total'] = 0;
if ($this->_sections['timestamp']['show']):

            for ($this->_sections['timestamp']['index'] = $this->_sections['timestamp']['start'], $this->_sections['timestamp']['iteration'] = 1;
                 $this->_sections['timestamp']['iteration'] <= $this->_sections['timestamp']['total'];
                 $this->_sections['timestamp']['index'] += $this->_sections['timestamp']['step'], $this->_sections['timestamp']['iteration']++):
$this->_sections['timestamp']['rownum'] = $this->_sections['timestamp']['iteration'];
$this->_sections['timestamp']['index_prev'] = $this->_sections['timestamp']['index'] - $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['index_next'] = $this->_sections['timestamp']['index'] + $this->_sections['timestamp']['step'];
$this->_sections['timestamp']['first']      = ($this->_sections['timestamp']['iteration'] == 1);
$this->_sections['timestamp']['last']       = ($this->_sections['timestamp']['iteration'] == $this->_sections['timestamp']['total']);
 echo '';  $this->assign('timestamp', ((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('date', ((is_array($_tmp=((is_array($_tmp=$this->_sections['timestamp']['index'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))) ? $this->_run_mod_handler('date_format', true, $_tmp, "%Y%m%d") : smarty_modifier_date_format($_tmp, "%Y%m%d")));  echo '';  $this->assign('index', ((is_array($_tmp=$this->_sections['timestamp']['iteration']-1)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $this->assign('year_string', ((is_array($_tmp=($this->_tpl_vars['timestamp']))) ? $this->_run_mod_handler('date_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_year_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_date_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_year_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '';  $this->assign('month_string', ((is_array($_tmp=($this->_tpl_vars['timestamp']))) ? $this->_run_mod_handler('date_format', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_month_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : smarty_modifier_date_format($_tmp, ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_monthly_month_format'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')))));  echo '';  $this->assign('day_string', ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_weekly_format'])) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['timestamp'])) : date($_tmp, ($this->_tpl_vars['timestamp']))));  echo '';  $this->assign('wday', ((is_array($_tmp='w')) ? $this->_run_mod_handler('date', true, $_tmp, ($this->_tpl_vars['timestamp'])) : date($_tmp, ($this->_tpl_vars['timestamp']))));  echo '';  $this->assign('wday_string', ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_wday_format'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ($this->_tpl_vars['weekArr'][$this->_tpl_vars['wday']])) : sprintf($_tmp, ($this->_tpl_vars['weekArr'][$this->_tpl_vars['wday']]))));  echo '';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['holidays'][$this->_tpl_vars['date']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) )):  echo '';  $this->assign('day_class', 'calendar_holiday');  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 0 )):  echo '';  $this->assign('day_class', 'calendar_sunday');  echo '';  elseif (( ((is_array($_tmp=$this->_tpl_vars['wday'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == 6 )):  echo '';  $this->assign('day_class', 'calendar_saturday');  echo '';  else:  echo '';  $this->assign('day_class', 'calendar_weekday');  echo '';  endif;  echo '<th class="calendar_date_head" scope="row"><div class="calendar_date"><a class="';  echo ((is_array($_tmp=$this->_tpl_vars['day_class'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo ' hover_highlight" href="#" title="';  echo ((is_array($_tmp=$this->_tpl_vars['lang']['calendar_ref_title_ymd'])) ? $this->_run_mod_handler('sprintf', true, $_tmp, ((is_array($_tmp=$this->_tpl_vars['year_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['month_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['day_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['wday_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))) : sprintf($_tmp, ((is_array($_tmp=$this->_tpl_vars['year_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['month_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['day_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')), ((is_array($_tmp=$this->_tpl_vars['wday_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'))));  echo '" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].changeCalendar("';  echo ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '", "';  echo ((is_array($_tmp=@CALENDAR_DAILY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"); return false;\'><span class=\'calendar_date_num\'>';  echo ((is_array($_tmp=$this->_tpl_vars['day_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</span><span class=\'calendar_date_wday\'>';  echo ((is_array($_tmp=$this->_tpl_vars['wday_string'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '</span></a>&nbsp;';  if (( ((is_array($_tmp=$_SESSION['_user_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) && ((is_array($_tmp=$_SESSION['_user_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != '0' && ((is_array($_tmp=$this->_tpl_vars['block_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) != '0' && ( ((is_array($_tmp=$_SESSION['_user_auth_id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) > _AUTH_GUEST || ((is_array($_tmp=$this->_tpl_vars['action']['calendar_block']['myroom_use_flag'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON ) )):  echo '<a class="hover_highlight print_preview_none" href="#" onclick=\'calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].showAddPlan(event,"';  echo ((is_array($_tmp=$this->_tpl_vars['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '",null,';  echo ((is_array($_tmp=@_OFF)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '); return false;\'><img src="';  echo ((is_array($_tmp="edit_light.gif")) ? $this->_run_mod_handler('get_themes_image', true, $_tmp) : get_themes_image($_tmp));  echo '" class="icon" alt="';  echo $this->_tpl_vars['lang']['calendar_easy_addplan'];  echo '" title="';  echo $this->_tpl_vars['lang']['calendar_easy_addplan'];  echo '" /></a>';  else:  echo '&nbsp;';  endif;  echo '</div></th>';  endfor; endif;  echo '</tr>';  if (( ((is_array($_tmp=$this->_tpl_vars['action']['calendar_block']['select_room'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')) == _ON )):  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "calendar_view_recursive_room_flat.html", 'smarty_include_vars' => array('room_list' => $this->_tpl_vars['action']['enroll_room_arr'])));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  else:  echo '';  $this->assign('next_thread_num', 0);  echo '';  $this->assign('next_parent_id', 0);  echo '';  $this->assign('room_list', ((is_array($_tmp=$this->_tpl_vars['action']['room_arr'][$this->_tpl_vars['next_thread_num']][$this->_tpl_vars['next_parent_id']])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html')));  echo '';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "./calendar_view_recursive_room.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '';  endif;  echo '</table>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "calendar_view_main_foot.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '</div>';  $_smarty_tpl_vars = $this->_tpl_vars;
$this->_smarty_include(array('smarty_include_tpl_file' => "../calendar_script.html", 'smarty_include_vars' => array()));
$this->_tpl_vars = $_smarty_tpl_vars;
unset($_smarty_tpl_vars);
  echo '<script class="nc_script" type="text/javascript">calendarCls["';  echo ((is_array($_tmp=$this->_tpl_vars['id'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '"].initMain("';  echo ((is_array($_tmp=$this->_tpl_vars['action']['date'])) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '","';  echo ((is_array($_tmp=@CALENDAR_WEEKLY)) ? $this->_run_mod_handler('escape', true, $_tmp, 'html') : smarty_modifier_escape($_tmp, 'html'));  echo '",null);</script>'; ?>